(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{13161:function(e,t,s){Promise.resolve().then(s.bind(s,42129))},42129:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ep}});var a=s(57437),r=s(2265),l=s(46281),i=s(13287),n=s(33327),o=s(86595),d=s(98617),c=s(48736),x=s(88906),m=s(58896);function u(e){let{onComplete:t}=e,[s,l]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{l(s=>s>=100?(clearInterval(e),setTimeout(t,500),100):s+2)},60);return()=>clearInterval(e)},[t]),(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900 flex items-center justify-center relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-blue-200 to-blue-300 rounded-full opacity-30 animate-pulse"}),(0,a.jsx)("div",{className:"absolute top-40 right-32 w-24 h-24 bg-gradient-to-r from-cyan-200 to-blue-300 rounded-full opacity-40 animate-bounce",style:{animationDelay:"0.5s"}}),(0,a.jsx)("div",{className:"absolute bottom-32 left-40 w-28 h-28 bg-gradient-to-r from-purple-200 to-blue-300 rounded-full opacity-35 animate-pulse",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute bottom-20 right-20 w-20 h-20 bg-gradient-to-r from-indigo-200 to-blue-300 rounded-full opacity-45 animate-bounce",style:{animationDelay:"1.5s"}}),(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-blue-400 rounded-full opacity-60 animate-ping"}),(0,a.jsx)("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-blue-500 rounded-full opacity-80 animate-ping",style:{animationDelay:"0.3s"}}),(0,a.jsx)("div",{className:"absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-purple-400 rounded-full opacity-70 animate-ping",style:{animationDelay:"0.7s"}})]}),(0,a.jsx)("div",{className:"text-center z-10 max-w-4xl mx-auto px-6",children:(0,a.jsxs)("div",{className:"bg-white/20 dark:bg-gray-800/20 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/30 dark:border-gray-700/30 p-8 md:p-12",children:[(0,a.jsx)(i.E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1,ease:"easeOut"},className:"mb-8",children:(0,a.jsxs)("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-3xl shadow-2xl flex items-center justify-center mb-6 relative",children:[(0,a.jsx)(n.Z,{className:"w-16 h-16 text-white relative z-10"}),(0,a.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-4 h-4 text-white"})})]})}),(0,a.jsx)(i.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-5xl md:text-7xl font-bold text-blue-900 dark:text-white mb-4",children:"AthleteFile"}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"mb-12",children:[(0,a.jsx)("p",{className:"text-2xl text-blue-700 dark:text-blue-100 mb-2 font-medium",children:"Professional File Management System"}),(0,a.jsx)("p",{className:"text-lg text-blue-600 dark:text-blue-200",children:"Secure • Efficient • Modern"})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[(0,a.jsxs)(i.E.div,{className:"text-center group bg-white/10 dark:bg-gray-800/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-gray-700/20 hover:bg-white/20 dark:hover:bg-gray-800/20 transition-all duration-300",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("p",{className:"text-blue-900 dark:text-white text-sm font-semibold",children:"Admin Control"}),(0,a.jsx)("p",{className:"text-blue-600 dark:text-blue-200 text-xs",children:"Full Management"})]}),(0,a.jsxs)(i.E.div,{className:"text-center group bg-white/10 dark:bg-gray-800/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-gray-700/20 hover:bg-white/20 dark:hover:bg-gray-800/20 transition-all duration-300",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,a.jsx)(c.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("p",{className:"text-blue-900 dark:text-white text-sm font-semibold",children:"File Management"}),(0,a.jsx)("p",{className:"text-blue-600 dark:text-blue-200 text-xs",children:"Secure Upload"})]}),(0,a.jsxs)(i.E.div,{className:"text-center group bg-white/10 dark:bg-gray-800/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-gray-700/20 hover:bg-white/20 dark:hover:bg-gray-800/20 transition-all duration-300",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,a.jsx)(x.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("p",{className:"text-blue-900 dark:text-white text-sm font-semibold",children:"Secure Storage"}),(0,a.jsx)("p",{className:"text-blue-600 dark:text-blue-200 text-xs",children:"Protected Data"})]}),(0,a.jsxs)(i.E.div,{className:"text-center group bg-white/10 dark:bg-gray-800/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-gray-700/20 hover:bg-white/20 dark:hover:bg-gray-800/20 transition-all duration-300",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,a.jsx)(m.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("p",{className:"text-blue-900 dark:text-white text-sm font-semibold",children:"Athlete Focused"}),(0,a.jsx)("p",{className:"text-blue-600 dark:text-blue-200 text-xs",children:"Professional"})]})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.5},className:"w-96 mx-auto",children:[(0,a.jsx)("div",{className:"bg-white/20 dark:bg-gray-800/20 backdrop-blur-sm rounded-full h-4 mb-4 border border-white/30 dark:border-gray-700/30 shadow-lg",children:(0,a.jsx)(i.E.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-4 rounded-full shadow-lg",initial:{width:0},animate:{width:"".concat(s,"%")},transition:{duration:.1}})}),(0,a.jsx)("p",{className:"text-blue-700 dark:text-blue-200 text-sm font-medium",children:s<100?"Initializing System...":"Ready to Launch!"})]})]})})]})}var h=s(33145),b=s(30401),p=s(92369),f=s(66337),g=s(87769),w=s(42208),j=s(76858),v=s(89345),y=s(32489),N=s(2141),k=s(69064),_=s(97226),S=s(85929),C=s(76476);function P(){let{theme:e,toggleTheme:t}=(0,C.F)();return(0,a.jsx)("button",{onClick:t,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200",title:"Switch to ".concat("light"===e?"dark":"light"," mode"),children:"light"===e?(0,a.jsx)(_.Z,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):(0,a.jsx)(S.Z,{className:"w-5 h-5 text-yellow-500"})})}var D={src:"/_next/static/media/ssulogo.8c1f90b5.webp",height:401,width:384,blurDataURL:"data:image/webp;base64,UklGRrgAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSDUAAAABYFXbNq2lDxEIYPgzFJHhDBXcr2dQ7xARMQFgRRxQe+/9UrEf03f679PrTwFpvbcC6JwNAABWUDggXAAAADACAJ0BKggACAACQDgliAJ0bX8C2c+goUdQAM45Mg00vbx5vFnP9SYu5uLsonmqf+am7r/cfzGNBIMyFy5ofTt2GTcY3QGAx2XW1moguHloSLDSP3wFR5OXcwAA",blurWidth:8,blurHeight:8};function Z(e){var t;let{mode:s,onToggleMode:i}=e,[n,o]=(0,r.useState)({email:"",password:"",fullName:"",role:"student"}),[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(""),[F,E]=(0,r.useState)({}),[A,I]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),[L,R]=(0,r.useState)(!1),[Y,T]=(0,r.useState)(""),[M,B]=(0,r.useState)(!1),[z,q]=(0,r.useState)(""),[V,J]=(0,r.useState)(!1),[W,G]=(0,r.useState)(""),[X,H]=(0,r.useState)(""),[K,Q]=(0,r.useState)("email"),[$,ee]=(0,r.useState)(!1),[et,es]=(0,r.useState)("student"),[ea,er]=(0,r.useState)("student"),[el,ei]=(0,r.useState)(!1),[en,eo]=(0,r.useState)("form"),[ed,ec]=(0,r.useState)(""),[ex,em]=(0,r.useState)(!1),[eu,eh]=(0,r.useState)(""),[eb,ep]=(0,r.useState)({fullName:"",studentId:"",email:"",phone:"",course:"",yearLevel:"",sport:"",position:"",department:"",title:"",password:"",confirmPassword:""}),[ef,eg]=(0,r.useState)(null),[ew,ej]=(0,r.useState)(null),[ev,ey]=(0,r.useState)(null),[eN,ek]=(0,r.useState)(null),{signIn:e_,signUp:eS,uploadProfilePicture:eC}=(0,l.a)(),eP="rememberMe",eD=e=>{e?localStorage.setItem(eP,"true"):localStorage.removeItem(eP)};(0,r.useEffect)(()=>{S("true"===localStorage.getItem(eP))},[]),(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),s=e.get("type");if(t&&"recovery"===s){let e=t.slice(-6).replace(/\D/g,"");6===e.length&&(q(e),U(!0),Q("token"),sessionStorage.setItem("password_reset_token",t),window.history.replaceState(null,"",window.location.pathname))}if(t&&"signup"===s){let e=t.slice(-6).replace(/\D/g,"");6===e.length&&(ec(e),R(!0),eo("token"),sessionStorage.setItem("signup_confirmation_token",t),window.history.replaceState(null,"",window.location.pathname))}},[]);let eZ="/ssu.webp",eF=[{value:"admin",label:"Admin"},{value:"student",label:"Student"}],eE=(null===(t=eF.find(e=>e.value===et))||void 0===t?void 0:t.label)||"User",eA=()=>{let e={};return n.email||(e.email="Email is required"),n.password||(e.password="Password is required"),E(e),0===Object.keys(e).length},eI=async e=>{if(e.preventDefault(),eA()){u(!0),Z("");try{let{error:e}=await e_(n.email,n.password);e?(Z(e.message),k.ZP.error(e.message)):(eD(_),k.ZP.success("Welcome back!"))}catch(e){Z("An unexpected error occurred. Please try again."),k.ZP.error("An unexpected error occurred")}finally{u(!1)}}},eO=async e=>{if(e.preventDefault(),Y){B(!0);try{let e="".concat(window.location.origin,"/reset-password"),{error:t}=await N.O.auth.resetPasswordForEmail(Y,{redirectTo:e});t?k.ZP.error(t.message):(Q("token"),k.ZP.success("Password reset code sent to your email! Check your inbox for the 6-digit code."))}catch(e){k.ZP.error("An unexpected error occurred. Please try again.")}finally{B(!1)}}},eU=async e=>{if(e.preventDefault(),!z||(V?z.length<10:6!==z.length)){k.ZP.error(V?"Please enter a valid reset token":"Please enter a valid 6-digit code");return}if(!W||W.length<6){k.ZP.error("Password must be at least 6 characters long");return}if(W!==X){k.ZP.error("Passwords do not match");return}ee(!0);try{let e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),s=e.get("type");if(t&&"recovery"===s){let{error:e}=await N.O.auth.updateUser({password:W});e?k.ZP.error(e.message):(k.ZP.success("Password reset successfully! You can now sign in with your new password."),U(!1),Q("email"),T(""),q(""),G(""),H(""),window.history.replaceState(null,"",window.location.pathname))}else{let e=sessionStorage.getItem("password_reset_token");if(e){let t=e.slice(-6).replace(/\D/g,"");if(z===t){let{error:e}=await N.O.auth.updateUser({password:W});e?k.ZP.error(e.message):(k.ZP.success("Password reset successfully! You can now sign in with your new password."),U(!1),Q("email"),T(""),q(""),G(""),H(""),sessionStorage.removeItem("password_reset_token"))}else k.ZP.error("Invalid code. Please check the code from your email.")}else if(V&&z.length>6)try{let{error:e}=await N.O.auth.verifyOtp({email:Y,token:z,type:"recovery"});if(e){k.ZP.error(e.message||"Invalid token. Please check the token from your email.");return}let{error:t}=await N.O.auth.updateUser({password:W});t?k.ZP.error(t.message):(k.ZP.success("Password reset successfully! You can now sign in with your new password."),U(!1),Q("email"),T(""),q(""),G(""),H(""),J(!1))}catch(e){k.ZP.error(e.message||"Failed to verify token. Please check the token from your email.")}else{let{error:e}=await N.O.auth.updateUser({password:W});e?k.ZP.error("Please enter the full reset token from your email, or click the reset link to activate the session."):(k.ZP.success("Password reset successfully! You can now sign in with your new password."),U(!1),Q("email"),T(""),q(""),G(""),H(""),J(!1))}}}catch(e){k.ZP.error(e.message||"Failed to reset password. Please try again.")}finally{ee(!1)}},eL=async e=>{if(e.preventDefault(),!ed||6!==ed.length){k.ZP.error("Please enter the 6-digit code from your email");return}let t=eu||eb.email;if(!t){k.ZP.error("Unable to verify. Please enter your email again.");return}em(!0);try{let{error:e}=await N.O.auth.verifyOtp({email:t,token:ed,type:"signup"});e?k.ZP.error(e.message||"Invalid confirmation code. Please check your email."):(k.ZP.success("Email confirmed successfully! You can now sign in."),R(!1),eo("form"),ec(""),eh(""),ep({fullName:"",studentId:"",email:"",phone:"",course:"",yearLevel:"",sport:"",position:"",department:"",title:"",password:"",confirmPassword:""}),eg(null),ej(null),ey(null),ek(null),sessionStorage.removeItem("signup_confirmation_token"),window.history.replaceState(null,"",window.location.pathname))}catch(e){k.ZP.error(e.message||"Failed to verify confirmation code. Please try again.")}finally{em(!1)}},eR=async e=>{if(e.preventDefault(),eb.password!==eb.confirmPassword){k.ZP.error("Passwords do not match!");return}if(eb.password.length<6){k.ZP.error("Password must be at least 6 characters long!");return}if(!eb.studentId||""===eb.studentId.trim()){k.ZP.error("SSU ID is required!");return}if(!ev){k.ZP.error("Please upload your ID picture!");return}ei(!0);try{let e={fullName:eb.fullName,studentId:eb.studentId,email:eb.email,phone:eb.phone,course:eb.course,yearLevel:eb.yearLevel,sport:eb.sport,position:eb.position,department:eb.department,title:eb.title,role:ea,id_picture_url:null,is_verified:!1},{error:t}=await eS(eb.email,eb.password,eb.fullName,"student"===ea?"student":"admin",e);if(t){k.ZP.error(t.message),ei(!1);return}if(ev)try{let{data:{user:e}}=await N.O.auth.getUser();if(e){let t=ev.name.split(".").pop(),s="id-pictures/".concat(Date.now(),"-").concat(eb.studentId,".").concat(t),{data:a,error:r}=await N.O.storage.from("athlete-files").upload(s,ev,{cacheControl:"3600",upsert:!1});if(r)console.error("ID picture upload error:",r),k.ZP.error("Account created! ID picture will be uploaded after email confirmation.");else{let{data:t}=N.O.storage.from("athlete-files").getPublicUrl(s),{error:a}=await N.O.from("users").update({id_picture_url:t.publicUrl}).eq("id",e.id);a&&console.error("Error updating user with ID picture URL:",a)}}else{let e=new FileReader;e.onloadend=()=>{sessionStorage.setItem("pending_id_picture",JSON.stringify({data:e.result,name:ev.name,studentId:eb.studentId}))},e.readAsDataURL(ev),k.ZP.success("Account created! ID picture will be uploaded after email confirmation.")}}catch(e){console.error("ID picture upload exception:",e),k.ZP.success("Account created! You can upload your ID picture after email confirmation.")}eh(eb.email),eo("token"),k.ZP.success("Account created! Please check your email for the confirmation code.")}catch(e){console.error("Sign up error:",e),k.ZP.error("An error occurred during account creation. Please try again.")}finally{ei(!1)}},eY=e=>{switch(e){case"admin":return"bg-red-500/20 text-red-100 shadow-lg backdrop-blur-sm border-red-400/40";case"student":return"bg-blue-500/20 text-blue-100 shadow-lg backdrop-blur-sm border-blue-400/40";default:return"bg-white/20 text-white shadow-lg backdrop-blur-sm"}},eT=e=>{switch(e){case"admin":return"bg-red-400";case"student":return"bg-blue-400";default:return"bg-white"}},eM=()=>{switch(et){case"admin":return"focus:ring-2 focus:ring-red-400/30 focus:border-red-400/40";case"student":return"focus:ring-2 focus:ring-blue-400/30 focus:border-blue-400/40";default:return"focus:ring-2 focus:ring-white/30 focus:border-white/40"}};return(0,a.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('".concat(eZ,"')")},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-blue-800/20 to-indigo-900/20"}),(0,a.jsx)("div",{className:"absolute top-6 right-6 z-10",children:(0,a.jsx)(P,{})}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-6xl",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)("div",{className:"inline-flex bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/20",children:eF.map(e=>(0,a.jsx)("button",{onClick:()=>es(e.value),className:"px-6 py-3 rounded-xl font-semibold text-lg transition-all duration-300 ".concat(et===e.value?eY(e.value):"text-white/80 hover:bg-white/10 hover:text-white"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full ".concat(eT(e.value))}),e.label]})},e.value))})}),(0,a.jsx)("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"p-12 text-white relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,a.jsx)("div",{className:"absolute top-10 left-10 w-16 h-16 bg-white rounded-full"}),(0,a.jsx)("div",{className:"absolute bottom-10 right-10 w-12 h-12 bg-white rounded-full"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-white rounded-full"})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-start mb-8",children:[A?(0,a.jsx)(h.default,{src:eZ,alt:"Samar State University",className:"w-48 h-48 object-contain mr-6",width:192,height:192,priority:!0}):(0,a.jsx)(h.default,{src:D,alt:"Samar State University",className:"w-48 h-48 object-contain mr-6",onError:()=>{I(!0)},width:192,height:192,priority:!0}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-1",children:"SSU APMS"}),(0,a.jsx)("p",{className:"text-white/80 text-sm",children:"Athletes Profile Management System"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)(b.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-white/90 font-medium text-sm",children:"Comprehensive Registration & Validation"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)(b.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-white/90 font-medium text-sm",children:"Advanced Performance Analytics"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)(b.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-white/90 font-medium text-sm",children:"Seamless Event Management"})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-4xl font-bold mb-6 leading-tight",children:["We Are The Best In",(0,a.jsx)("br",{}),"Athlete Management"]}),(0,a.jsx)("p",{className:"text-white/90 leading-relaxed text-lg",children:"Elevate your athletic program efficiency with SSU's sleek and intuitive management system. Designed with simplicity, security, and performance in mind, this platform ensures that your journey into comprehensive athlete management is as smooth as possible. Perfectly aligned for universities and institutions aiming to achieve excellence in sports administration."})]})]})]}),(0,a.jsx)("div",{className:"p-12",children:(0,a.jsxs)("div",{className:"".concat((()=>{switch(et){case"admin":return"bg-red-500/10 border-red-400/30";case"student":return"bg-blue-500/10 border-blue-400/30";default:return"bg-white/10 border-white/20"}})()," backdrop-blur-xl rounded-3xl p-8 border shadow-2xl"),children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center ".concat((()=>{switch(et){case"admin":return"bg-red-500/20 border border-red-400/40";case"student":return"bg-blue-500/20 border border-blue-400/40";default:return"bg-white/20 border border-white/40"}})()),children:(0,a.jsx)(x.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"WELCOME BACK"}),(0,a.jsxs)("p",{className:"".concat((()=>{switch(et){case"admin":return"text-red-200";case"student":return"text-blue-200";default:return"text-white/80"}})()," text-lg"),children:[eE.toUpperCase()," MEMBER"]}),(0,a.jsx)("p",{className:"text-white/60 text-sm mt-1",children:"LOGIN TO CONTINUE"})]}),(0,a.jsxs)("form",{onSubmit:eI,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(p.Z,{className:"w-5 h-5 text-white/60"})}),(0,a.jsx)("input",{type:"email",value:n.email,onChange:e=>o(t=>({...t,email:e.target.value})),required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl transition-all duration-300 text-white placeholder-white/50 ".concat(F.email?"border-red-400 focus:ring-red-400/30":""," ").concat(eM()),placeholder:"Enter your email"})]}),F.email&&(0,a.jsx)("p",{className:"text-red-300 text-sm",children:F.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(f.Z,{className:"w-5 h-5 text-white/60"})}),(0,a.jsx)("input",{type:d?"text":"password",value:n.password,onChange:e=>o(t=>({...t,password:e.target.value})),required:!0,className:"w-full pl-12 pr-12 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl transition-all duration-300 text-white placeholder-white/50 ".concat(F.password?"border-red-400 focus:ring-red-400/30":""," ").concat(eM()),placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>c(!d),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-colors",children:d?(0,a.jsx)(g.Z,{className:"w-5 h-5"}):(0,a.jsx)(w.Z,{className:"w-5 h-5"})})]}),F.password&&(0,a.jsx)("p",{className:"text-red-300 text-sm",children:F.password})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[(0,a.jsx)("input",{type:"checkbox",checked:_,onChange:e=>{let t=e.target.checked;S(t),eD(t)},className:"w-4 h-4 text-white bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-white/30 focus:ring-offset-0 transition-all duration-300"}),(0,a.jsx)("span",{className:"text-white/80 text-sm group-hover:text-white transition-colors",children:"Remember me"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>U(!0),className:"text-white/80 hover:text-white font-medium text-sm transition-colors hover:underline",children:"Forgot your Password?"}),"admin"!==et&&(0,a.jsx)("button",{type:"button",onClick:()=>R(!0),className:"text-blue-400 hover:text-blue-300 font-medium text-sm transition-colors hover:underline",children:"Sign up"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full font-semibold py-4 px-6 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-[1.02] flex items-center justify-center ".concat((()=>{switch(et){case"admin":return"bg-red-600 hover:bg-red-700 text-white";case"student":return"bg-blue-600 hover:bg-blue-700 text-white";default:return"bg-black hover:bg-gray-800 text-white"}})()),children:m?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing in..."]}):(0,a.jsxs)("span",{className:"flex items-center justify-center",children:["Proceed to my Account",(0,a.jsx)(j.Z,{className:"w-5 h-5 ml-3"})]})})]}),"admin"===et&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-xl",children:[(0,a.jsx)("h4",{className:"text-blue-200 text-sm font-medium mb-2",children:"Admin Access:"}),(0,a.jsx)("p",{className:"text-blue-200/80 text-xs",children:"Email: admin@ssu.edu.ph"}),(0,a.jsx)("p",{className:"text-blue-200/80 text-xs",children:"Password: admin123"})]}),C&&(0,a.jsx)("div",{className:"mt-6 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl",children:(0,a.jsx)("p",{className:"text-red-200 text-sm font-medium",children:C})})]})})]})})]}),O&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>{U(!1),Q("email"),T(""),q(""),G(""),H("")}}),(0,a.jsx)("div",{className:"relative bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-md w-full border border-white/20",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-6 border border-white/30",children:(0,a.jsx)(v.Z,{className:"w-8 h-8 text-white"})}),"email"===K?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-white/80 mb-6 text-sm",children:"Enter your email address and we'll send you a 6-digit code to reset your password."}),(0,a.jsxs)("form",{onSubmit:eO,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:Y,onChange:e=>T(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{U(!1),Q("email"),T("")},className:"flex-1 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 text-sm border border-white/20",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:M,className:"flex-1 bg-black hover:bg-gray-800 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 disabled:opacity-50 text-sm",children:M?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"Send Code"})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Enter Reset Code"}),(0,a.jsxs)("p",{className:"text-white/80 mb-6 text-sm",children:["We've sent a 6-digit code to ",(0,a.jsx)("span",{className:"font-semibold text-white",children:Y}),". Please check your email and enter the code below."]}),(0,a.jsxs)("form",{onSubmit:eU,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:V?"Reset Token":"6-Digit Code"}),(0,a.jsx)("button",{type:"button",onClick:()=>{J(!V),q("")},className:"text-xs text-white/70 hover:text-white underline",children:V?"Use 6-digit code instead":"Have full token? Click here"})]}),V?(0,a.jsx)("input",{type:"text",value:z,onChange:e=>q(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50 text-sm font-mono",placeholder:"Paste the full token from your email"}):(0,a.jsx)("input",{type:"text",value:z,onChange:e=>{q(e.target.value.replace(/\D/g,"").slice(0,6))},required:!0,maxLength:6,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50 text-center text-2xl font-mono tracking-widest",placeholder:"000000"}),(0,a.jsx)("p",{className:"text-white/60 text-xs text-left",children:V?"Paste the full reset token from your email. You can also enter just the last 6 digits of the token.":"Enter the 6-digit code from your email (last 6 characters of the token). You can also paste the full token by clicking the link above."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"New Password"}),(0,a.jsx)("input",{type:"password",value:W,onChange:e=>G(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Enter new password"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Confirm New Password"}),(0,a.jsx)("input",{type:"password",value:X,onChange:e=>H(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Confirm new password"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{Q("email"),T(""),q(""),G(""),H(""),J(!1)},className:"flex-1 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 text-sm border border-white/20",children:"Back"}),(0,a.jsx)("button",{type:"submit",disabled:$||(V?z.length<10:6!==z.length)||!W||W!==X,className:"flex-1 bg-black hover:bg-gray-800 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:$?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resetting..."]}):"Reset Password"})]})]})]})]})})]}),L&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 w-full max-w-2xl border border-white/20 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"form"===en?"Create Account":"Confirm Your Email"}),(0,a.jsx)("button",{onClick:()=>{R(!1),eo("form"),ec(""),eh("")},className:"text-white/60 hover:text-white transition-colors",children:(0,a.jsx)(y.Z,{className:"w-6 h-6"})})]}),"form"===en?(0,a.jsxs)("form",{onSubmit:eR,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Select Role"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:(0,a.jsx)("button",{type:"button",onClick:()=>er("student"),className:"p-3 rounded-xl border transition-all duration-300 text-sm font-medium ".concat("student"===ea?"bg-white/20 text-white border-white/40":"bg-white/10 text-white/80 border-white/20 hover:bg-white/15"),children:"Student"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Profile Picture"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-white/10 border border-white/20 flex items-center justify-center",children:ew?(0,a.jsx)("img",{src:ew,alt:"Profile preview",className:"w-full h-full object-cover"}):(0,a.jsx)(p.Z,{className:"w-8 h-8 text-white/60"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){eg(s);let e=new FileReader;e.onload=e=>{var t;ej(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(s)}},className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-white/20 file:text-white hover:file:bg-white/30"}),(0,a.jsx)("p",{className:"text-white/60 text-xs mt-1",children:"Upload a profile picture (optional)"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:eb.fullName,onChange:e=>ep(t=>({...t,fullName:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-white/90 font-medium text-sm text-left",children:["SSU ID ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:eb.studentId,onChange:e=>ep(t=>({...t,studentId:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Enter your SSU ID number"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:eb.email,onChange:e=>ep(t=>({...t,email:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:eb.phone,onChange:e=>ep(t=>({...t,phone:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Phone number"})]})]}),"student"===ea&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Course/Program"}),(0,a.jsx)("input",{type:"text",value:eb.course,onChange:e=>ep(t=>({...t,course:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"e.g., BS Computer Science"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Year Level"}),(0,a.jsxs)("select",{value:eb.yearLevel,onChange:e=>ep(t=>({...t,yearLevel:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white",children:[(0,a.jsx)("option",{value:"",className:"bg-gray-800 text-white",children:"Select Year Level"}),(0,a.jsx)("option",{value:"1st Year",className:"bg-gray-800 text-white",children:"1st Year"}),(0,a.jsx)("option",{value:"2nd Year",className:"bg-gray-800 text-white",children:"2nd Year"}),(0,a.jsx)("option",{value:"3rd Year",className:"bg-gray-800 text-white",children:"3rd Year"}),(0,a.jsx)("option",{value:"4th Year",className:"bg-gray-800 text-white",children:"4th Year"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Sport/Event"}),(0,a.jsx)("input",{type:"text",value:eb.sport,onChange:e=>ep(t=>({...t,sport:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"e.g., Basketball, Swimming"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Position/Role"}),(0,a.jsx)("input",{type:"text",value:eb.position,onChange:e=>ep(t=>({...t,position:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"e.g., Point Guard, Forward"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Password"}),(0,a.jsx)("input",{type:"password",value:eb.password,onChange:e=>ep(t=>({...t,password:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Create a password"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",value:eb.confirmPassword,onChange:e=>ep(t=>({...t,confirmPassword:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50",placeholder:"Confirm your password"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-white/90 font-medium text-sm text-left",children:["ID Picture ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("label",{className:"flex-1 cursor-pointer",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(s.size>5242880){k.ZP.error("ID picture must be less than 5MB");return}if(!s.type.startsWith("image/")){k.ZP.error("Please upload an image file");return}ey(s);let e=new FileReader;e.onloadend=()=>{ek(e.result)},e.readAsDataURL(s)}},className:"hidden",required:!0}),(0,a.jsx)("div",{className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl hover:bg-white/20 transition-all duration-300 text-white text-center cursor-pointer",children:ev?"Change ID Picture":"Upload ID Picture"})]})}),eN&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("img",{src:eN,alt:"ID Picture Preview",className:"w-32 h-40 object-cover rounded-lg border-2 border-white/30"}),(0,a.jsx)("button",{type:"button",onClick:()=>{ey(null),ek(null)},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1",children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("p",{className:"text-white/70 text-xs mt-1",children:null==ev?void 0:ev.name})]}),(0,a.jsx)("p",{className:"text-white/60 text-xs",children:"Please upload a clear photo of your SSU ID card (Max 5MB)"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>R(!1),className:"flex-1 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 text-sm border border-white/20",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:el,className:"flex-1 bg-black hover:bg-gray-800 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 disabled:opacity-50 text-sm",children:el?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Account"})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-6 border border-white/30",children:(0,a.jsx)(v.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Enter Confirmation Code"}),(0,a.jsxs)("p",{className:"text-white/80 mb-6 text-sm",children:["We've sent a 6-digit confirmation code to ",(0,a.jsx)("span",{className:"font-semibold text-white",children:eu}),". Please check your email and enter the code below to verify your account."]})]}),(0,a.jsxs)("form",{onSubmit:eL,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-white/90 font-medium text-sm text-left",children:"6-Digit Confirmation Code"}),(0,a.jsx)("input",{type:"text",value:ed,onChange:e=>{ec(e.target.value.replace(/\D/g,"").slice(0,6))},required:!0,maxLength:6,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl focus:ring-2 focus:ring-white/30 focus:border-white/40 transition-all duration-300 text-white placeholder-white/50 text-center text-2xl font-mono tracking-widest",placeholder:"000000"}),(0,a.jsx)("p",{className:"text-white/60 text-xs text-left",children:"Enter the 6-digit code from your confirmation email. The code is the last 6 characters of the token shown in your email."})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eo("form"),ec(""),eh(""),ep({fullName:"",studentId:"",email:"",phone:"",course:"",yearLevel:"",sport:"",position:"",department:"",title:"",password:"",confirmPassword:""}),eg(null),ej(null),ey(null),ek(null)},className:"flex-1 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 text-sm border border-white/20",children:"Back"}),(0,a.jsx)("button",{type:"submit",disabled:ex||6!==ed.length,className:"flex-1 bg-black hover:bg-gray-800 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:ex?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Verifying..."]}):"Verify Email"})]})]})]})]})})]})}var F=s(14924),E=s(95805),A=s(94766),I=s(46221),O=s(28124),U=s(84286),L=s(99397),R=s(31047),Y=s(18930),T=s(42488),M=s(92735),B=s(45675),z=s(61649),q=s(40875),V=s(82023),J=s(14296),W=s(77031),G=s(56940),X=s(97059),H=s(62994),K=s(78155),Q=s(90999),$=s(86810),ee=s(10062),et=s(20407),es=s(53250),ea=s(21156),er=s(55487);let el=["#FCD34D","#F97316","#FB7185","#A855F7","#38BDF8","#34D399","#F472B6","#FBBF24"],ei=e=>el[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%el.length],en=e=>{var t,s;if(!e)return!1;if("42703"===e.code)return!0;let a="".concat(null!==(t=e.message)&&void 0!==t?t:""," ").concat(null!==(s=e.details)&&void 0!==s?s:"").toLowerCase();return a.includes("column")&&a.includes("color")},eo=[{id:"folders",label:"Folders",icon:F.Z},{id:"users",label:"Users",icon:E.Z},{id:"announcements",label:"Announcements",icon:A.Z},{id:"analytics",label:"Analytics",icon:I.Z}];function ed(){var e,t;let{user:s,signOut:n}=(0,l.a)(),[o,d]=(0,r.useState)("folders"),[x,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[g,w]=(0,r.useState)([]),[j,v]=(0,r.useState)([]),[_,S]=(0,r.useState)([]),[C,P]=(0,r.useState)(!1),[D,Z]=(0,r.useState)({name:"",description:"",color:"#FCD34D"}),[ed,ec]=(0,r.useState)(!1),[ex,em]=(0,r.useState)({title:"",content:""}),[eu,eh]=(0,r.useState)(null),[eb,ep]=(0,r.useState)({title:"",content:""}),[ef,eg]=(0,r.useState)(null),[ew,ej]=(0,r.useState)(!1),[ev,ey]=(0,r.useState)(null),[eN,ek]=(0,r.useState)(null),[e_,eS]=(0,r.useState)({}),[eC,eP]=(0,r.useState)(!0),[eD,eZ]=(0,r.useState)(null),[eF,eE]=(0,r.useState)(null),[eA,eI]=(0,r.useState)(!1),[eO,eU]=(0,r.useState)(null),[eL,eR]=(0,r.useState)("athletes"),[eY,eT]=(0,r.useState)("this-month"),[eM,eB]=(0,r.useState)(!1),[ez,eq]=(0,r.useState)(!1),[eV,eJ]=(0,r.useState)(""),[eW,eG]=(0,r.useState)(""),[eX,eH]=(0,r.useState)("");(0,r.useEffect)(()=>{s&&eK()},[s]),(0,r.useEffect)(()=>{let e=e=>{e.target.closest(".dropdown-container")||(eB(!1),eq(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{try{let e=window.localStorage.getItem("folderColors");e&&eS(JSON.parse(e))}catch(e){console.error("Failed to restore folder colors",e)}},[]),(0,r.useEffect)(()=>{try{window.localStorage.setItem("folderColors",JSON.stringify(e_))}catch(e){console.error("Failed to persist folder colors",e)}},[e_]);let eK=async()=>{m(!0);try{var e,t,s,a,r;let[l,i,n,o,d]=await Promise.all([N.O.from("folders").select("*").order("created_at",{ascending:!1}),N.O.from("student_folders").select("\n          *,\n            users:users!student_folders_student_id_fkey (\n            id,\n            full_name,\n              profile_picture_url,\n              sport\n            )\n          ").order("created_at",{ascending:!1}),N.O.from("files").select("id, original_name, file_size, mime_type, created_at, student_folder_id, folder_id, uploaded_by, file_path, name").order("created_at",{ascending:!1}),N.O.from("users").select("*").order("created_at",{ascending:!1}),N.O.from("announcements").select("*").order("created_at",{ascending:!1})]);if(l.error)throw l.error;if(i.error)throw i.error;if(n.error)throw n.error;if(o.error)throw o.error;if(d.error)throw d.error;h(null!==(e=l.data)&&void 0!==e?e:[]),f(null!==(t=i.data)&&void 0!==t?t:[]),w(null!==(s=n.data)&&void 0!==s?s:[]),v(null!==(a=o.data)&&void 0!==a?a:[]),S(null!==(r=d.data)&&void 0!==r?r:[])}catch(e){console.error(e),k.ZP.error("Failed to load dashboard data")}finally{m(!1)}},eQ=async e=>{if(e.preventDefault(),!D.name.trim()){k.ZP.error("Folder name is required");return}try{var t;let e={name:D.name.trim(),description:D.description.trim()||null,created_by:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:null},a=null,r=!eC;if(!r){let{data:t,error:s}=await N.O.from("folders").insert({...e,color:D.color}).select("*").single();if(s){if(en(s))r=!0,eP(!1);else throw s}else a=t}if(!a){let{data:t,error:s}=await N.O.from("folders").insert(e).select("*").single();if(s)throw s;a=t,r&&t&&eS(e=>({...e,[t.id]:D.color}))}k.ZP.success("Folder created"),Z(e=>({...e,name:"",description:""})),P(!1),await eK()}catch(e){console.error(e),k.ZP.error("Failed to create folder")}},e$=async e=>{if(confirm("Delete this folder?"))try{let{error:t}=await N.O.from("folders").delete().eq("id",e);if(t)throw t;k.ZP.success("Folder deleted"),eK()}catch(e){console.error(e),k.ZP.error("Failed to delete folder")}},e0=async e=>{if(e.preventDefault(),!ex.title.trim()||!ex.content.trim()){k.ZP.error("Title and content are required");return}try{var t;let{error:e}=await N.O.from("announcements").insert({title:ex.title.trim(),content:ex.content.trim(),created_by:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:null});if(e)throw e;k.ZP.success("Announcement posted"),em({title:"",content:""}),ec(!1),eK()}catch(e){console.error(e),k.ZP.error("Failed to post announcement")}},e2=async e=>{if(confirm("Delete this announcement?"))try{let{error:t}=await N.O.from("announcements").delete().eq("id",e);if(t)throw t;k.ZP.success("Announcement deleted"),eK()}catch(e){console.error(e),k.ZP.error("Failed to delete announcement")}},e1=e=>{eh(e.id),ep({title:e.title,content:e.content})},e4=()=>{eh(null),ep({title:"",content:""})},e3=async e=>{if(!eb.title.trim()||!eb.content.trim()){k.ZP.error("Title and content are required");return}try{let{error:t}=await N.O.from("announcements").update({title:eb.title.trim(),content:eb.content.trim()}).eq("id",e);if(t)throw t;k.ZP.success("Announcement updated"),eh(null),ep({title:"",content:""}),eK()}catch(e){console.error(e),k.ZP.error("Failed to update announcement")}},e5=async(e,t)=>{ej(!0);try{let{error:s}=await N.O.from("users").update({is_verified:t}).eq("id",e.id);if(s)throw s;v(s=>s.map(s=>s.id===e.id?{...s,is_verified:t}:s)),eg(e=>e?{...e,is_verified:t}:e),k.ZP.success(t?"Athlete verified":"Marked as pending")}catch(e){console.error(e),k.ZP.error("Failed to update verification status")}finally{ej(!1)}},e6=(0,r.useMemo)(()=>j.filter(e=>{var t;return(null===(t=e.role)||void 0===t?void 0:t.toLowerCase())==="student"}),[j]),e9=e6.filter(e=>e.is_verified),e8=_.at(0),e7=(0,r.useMemo)(()=>{let e={};return e6.forEach(t=>{let s=t.sport||"Unspecified";e[s]=(e[s]||0)+1}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,value:s}}).sort((e,t)=>t.value-e.value).slice(0,10)},[e6]),te=(0,r.useMemo)(()=>[{name:"Verified",value:e9.length,color:"#10b981"},{name:"Pending",value:e6.length-e9.length,color:"#f59e0b"}],[e6,e9]),tt=(0,r.useMemo)(()=>{let e={};return e6.forEach(t=>{let s=t.course||"Unspecified";e[s]=(e[s]||0)+1}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,value:s}}).sort((e,t)=>t.value-e.value).slice(0,8)},[e6]),ts=(0,r.useMemo)(()=>{let e={};return e6.forEach(t=>{let s=new Date(t.created_at),a="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"));e[a]=(e[a]||0)+1}),Object.entries(e).sort((e,t)=>{let[s]=e,[a]=t;return s.localeCompare(a)}).slice(-6).map(e=>{let[t,s]=e;return{month:new Date(t+"-01").toLocaleDateString("en-US",{month:"short",year:"numeric"}),registrations:s}})},[e6]),ta=e=>{if(!e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/1024**t).toFixed(1)," ").concat(["B","KB","MB","GB","TB"][t])},tr=async e=>{try{let t=e.file_path||e.name||e.id;if(!t)return console.error("No file path available"),null;let{data:s}=N.O.storage.from("athlete-files").getPublicUrl(t);try{if((await fetch(s.publicUrl,{method:"HEAD"})).ok)return s.publicUrl}catch(e){}let{data:a,error:r}=await N.O.storage.from("athlete-files").download(t);if(r)return console.error("Error downloading file:",r),null;if(a)return URL.createObjectURL(a);return null}catch(e){return console.error("Error in getFileUrl:",e),null}},tl=async e=>{if(e.mime_type.includes("pdf")){eZ(e),eI(!0),eU(null),eE(null);try{let t=await tr(e);t?eE(t):(eU("Failed to load PDF. Please try downloading the file instead."),k.ZP.error("Failed to load PDF"))}catch(e){console.error("Error loading PDF:",e),eU("An error occurred while loading the PDF."),k.ZP.error("Failed to load PDF")}finally{eI(!1)}}},ti=async()=>{if(eD)try{let e=eD.file_path||eD.name||eD.id,{data:t,error:s}=await N.O.storage.from("athlete-files").download(e);if(s)throw s;let a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=eD.original_name,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),k.ZP.success("PDF downloaded successfully")}catch(e){console.error("Error downloading PDF:",e),k.ZP.error("Failed to download PDF")}},tn=e=>{var t,s;return e?null!==(s=null!==(t=e.color)&&void 0!==t?t:e_[e.id])&&void 0!==s?s:ei(e.id):el[0]},to=e=>{if(e.users)return{id:e.users.id,full_name:e.users.full_name,profile_picture_url:e.users.profile_picture_url,sport:e.users.sport};let t=e.student_id?j.find(t=>t.id===e.student_id):void 0;if(t)return{id:t.id,full_name:t.full_name,profile_picture_url:t.profile_picture_url,sport:t.sport}},td=()=>{ey(null),ek(null)},tc=e=>{ey(e),ek(null)},tx=e=>{ek(e)};(0,r.useMemo)(()=>[{label:"Total Users",value:j.length.toLocaleString(),sublabel:"".concat(e9.length," verified athletes"),icon:E.Z,accent:"from-sky-500 via-blue-500 to-indigo-500"},{label:"Folder Library",value:u.length.toLocaleString(),sublabel:"Shared & private spaces",icon:O.Z,accent:"from-violet-500 via-purple-500 to-pink-500"},{label:"Announcements",value:_.length.toLocaleString(),sublabel:e8?"Last: ".concat(new Date(e8.created_at).toLocaleDateString()):"No recent updates",icon:A.Z,accent:"from-amber-400 via-orange-500 to-rose-500"},{label:"Engagement",value:"".concat(e6.length?Math.round(e9.length/e6.length*100):0,"%"),sublabel:"Verification rate",icon:U.Z,accent:"from-emerald-400 via-green-500 to-lime-500"}],[_.length,u.length,e8,e6.length,j.length,e9.length]);let tm=e=>{if(0===e.length){k.ZP.error("No data to export");return}let t=new Blob([["Full Name,Email,Student ID,Sport,Course,Status",...e.map(e=>{var t,s,a;return[e.full_name,e.email,null!==(t=e.student_id)&&void 0!==t?t:"",null!==(s=e.sport)&&void 0!==s?s:"",null!==(a=e.course)&&void 0!==a?a:"",e.is_verified?"Verified":"Pending"].map(e=>'"'.concat(e,'"')).join(",")})].join("\n")],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(t),s.download="athletes_".concat(new Date().toISOString().split("T")[0],".csv"),s.click(),s.remove()},tu=()=>{var e;let t=ev?u.find(e=>e.id===ev):null,s=eN?p.find(e=>e.id===eN):null,r=t?p.filter(e=>e.sport_folder_id===t.id):[],l=s?g.filter(e=>e.student_folder_id===s.id):[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-white",children:s?"Files for ".concat((null===(e=to(s))||void 0===e?void 0:e.full_name)||s.name):t?"".concat(t.name," \xb7 Athlete folders"):"Folders"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:s?"Every document your athlete has uploaded lives here.":t?"Choose an athlete to inspect their secure workspace.":"Create shared spaces and drill into athlete folders."})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(ev||eN)&&(0,a.jsx)("button",{onClick:s?()=>ek(null):td,className:"px-4 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-700",children:s?"Back to athlete list":"Back to folders"}),(0,a.jsx)("button",{onClick:eK,className:"px-4 py-2 text-sm rounded-lg bg-slate-200 dark:bg-slate-700",children:"Refresh"}),(0,a.jsxs)("button",{onClick:()=>P(!0),className:"px-4 py-2 text-sm rounded-lg bg-blue-600 text-white",children:[(0,a.jsx)(L.Z,{className:"inline w-4 h-4 mr-1"}),"New Folder"]})]})]}),C&&(0,a.jsxs)(i.E.form,{onSubmit:eQ,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"grid gap-3 p-4 border border-slate-200 dark:border-slate-700 rounded-xl",children:[(0,a.jsx)("input",{value:D.name,onChange:e=>Z(t=>({...t,name:e.target.value})),placeholder:"Folder name",className:"px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent"}),(0,a.jsx)("textarea",{value:D.description,onChange:e=>Z(t=>({...t,description:e.target.value})),placeholder:"Description",className:"px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:"Folder color"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"color",value:D.color,onChange:e=>Z(t=>({...t,color:e.target.value})),className:"h-10 w-14 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent"}),(0,a.jsx)("input",{type:"text",value:D.color,onChange:e=>Z(t=>({...t,color:e.target.value})),className:"flex-1 px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent",placeholder:"#FCD34D"})]}),!eC&&(0,a.jsx)("p",{className:"mt-2 text-xs text-amber-600 dark:text-amber-400",children:"Tip: color preferences are saved in your browser since the database doesn’t support folder colors yet."})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsx)("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 rounded-lg bg-slate-200 dark:bg-slate-700",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:"Save"})]})]}),s?(0,a.jsx)("div",{className:"space-y-4",children:0===l.length?(0,a.jsx)("div",{className:"p-6 text-center border border-dashed border-slate-300 dark:border-slate-700 rounded-2xl text-slate-500",children:"No files uploaded yet."}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:l.map(e=>{let t=e.mime_type.includes("pdf");return(0,a.jsxs)("div",{onClick:()=>t&&tl(e),className:"p-5 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 shadow-sm space-y-3 ".concat(t?"cursor-pointer hover:shadow-md hover:border-blue-400 transition-all":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.original_name}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300",children:e.mime_type.split("/")[1]||e.mime_type})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-500",children:["Size \xb7 ",ta(e.file_size)]}),t&&(0,a.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Click to view PDF →"})]},e.id)})})}):t?(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:0===r.length?(0,a.jsx)("div",{className:"p-6 text-center border border-dashed border-slate-300 dark:border-slate-700 rounded-2xl text-slate-500",children:"No athlete folders yet."}):r.map(e=>{var s,r,l,i;let n=t?tn(t):"#FCD34D",o=to(e),d=null!==(r=null==o?void 0:null===(s=o.full_name)||void 0===s?void 0:s.split(" ").map(e=>e[0]).join("").slice(0,2))&&void 0!==r?r:e.name.slice(0,2);return(0,a.jsxs)("div",{onClick:()=>tx(e.id),className:"relative cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:-translate-y-0.5",style:{perspective:"1200px"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/8 rounded-lg blur-sm transform translate-y-1 opacity-50"}),(0,a.jsxs)("div",{className:"relative w-full h-36 rounded-lg overflow-hidden shadow-md transform transition-all duration-300",style:{backgroundColor:n,boxShadow:"0 6px 16px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.12)",transform:"perspective(1200px) rotateX(0.5deg)"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/15 via-transparent to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute -top-2 left-4 w-28 h-6 rounded-t-md shadow-sm",style:{backgroundColor:n,boxShadow:"0 -2px 4px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.15)"}}),(0,a.jsx)("div",{className:"absolute -top-2 left-4 w-28 h-6 rounded-t-md border border-b-0 pointer-events-none",style:{borderColor:"rgba(255,255,255,0.2)"}}),(0,a.jsxs)("div",{className:"relative p-4 h-full flex flex-col justify-between z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-11 h-11 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0 shadow-sm border-2 border-white/30 bg-white/20",children:(null==o?void 0:o.profile_picture_url)?(0,a.jsx)("img",{src:o.profile_picture_url,alt:null!==(l=o.full_name)&&void 0!==l?l:"Athlete",className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"font-semibold text-white text-sm",children:d})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-white text-sm mb-1 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-white/85 truncate",children:null!==(i=null==o?void 0:o.full_name)&&void 0!==i?i:"Athlete"})]})]}),e.description&&(0,a.jsx)("p",{className:"text-xs text-white/75 line-clamp-1 mt-2 leading-relaxed",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-auto pt-2 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-white/70 text-[10px]",children:[(0,a.jsx)(R.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("span",{className:"text-[10px] text-white/55 font-medium",children:"Personal"})]})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-black/5 rounded-b-lg"})]})]},e.id)})}):(0,a.jsx)("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:0===u.length?(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No folders yet."}):u.map(e=>{let t=tn(e);return(0,a.jsxs)("div",{onClick:()=>tc(e.id),className:"relative cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:-translate-y-0.5 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-lg hover:shadow-xl flex flex-col",children:[(0,a.jsxs)("div",{className:"relative w-[200px] h-[200px] overflow-hidden flex-shrink-0 mx-auto bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-900/40 dark:via-slate-900/10 dark:to-slate-900/30",children:[(0,a.jsx)("div",{className:"absolute top-[55%] left-[44.5%] w-28 h-20 shadow-lg border border-white/50 dark:border-white/10 -translate-x-1/2 -translate-y-1/2",style:{backgroundColor:t}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-10",style:{backgroundImage:"url('/folder.png')"}}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),e$(e.id)},className:"absolute top-4 left-4 p-2 rounded-lg bg-white/40 hover:bg-white/60 backdrop-blur-sm text-slate-700 dark:text-white transition-all duration-200 z-20 shadow-md",children:(0,a.jsx)(Y.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[(0,a.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white text-base mb-1 truncate",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:e.description})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-xs",children:[(0,a.jsx)(R.Z,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Public Folder"})]})]})]},e.id)})})]})},th=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,a.jsx)(E.Z,{className:"w-5 h-5 text-white"})}),"Athletes Management"]}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Verify accounts and manage athlete data"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:eK,className:"px-4 py-2 text-sm rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all flex items-center gap-2",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4"}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>tm(e6),className:"px-4 py-2 text-sm rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4"}),"Export CSV"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Total Athletes"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:e6.length})]}),(0,a.jsx)(E.Z,{className:"w-10 h-10 text-blue-400 dark:text-blue-500"})]})}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-5 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Verified"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100 mt-1",children:e9.length})]}),(0,a.jsx)(U.Z,{className:"w-10 h-10 text-green-400 dark:text-green-500"})]})}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-5 rounded-2xl bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-amber-600 dark:text-amber-400 font-medium",children:"Pending"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100 mt-1",children:e6.length-e9.length})]}),(0,a.jsx)(T.Z,{className:"w-10 h-10 text-amber-400 dark:text-amber-500"})]})})]}),0===e6.length?(0,a.jsxs)("div",{className:"text-center py-12 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:[(0,a.jsx)(E.Z,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No athletes registered yet"})]}):(0,a.jsx)("div",{className:"grid gap-4",children:e6.map(e=>{var t,s;return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg shadow-lg",children:(null===(t=e.full_name)||void 0===t?void 0:t.charAt(0))||"A"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg",children:e.full_name}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:e.email}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 mt-2",children:[(0,a.jsxs)("span",{className:"text-xs px-2.5 py-1 rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:["ID: ",null!==(s=e.student_id)&&void 0!==s?s:"N/A"]}),e.sport&&(0,a.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:e.sport}),e.course&&(0,a.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-lg bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:e.course})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-right",children:e.is_verified?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-xl",children:[(0,a.jsx)(U.Z,{className:"w-3.5 h-3.5"}),"Verified"]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded-xl",children:[(0,a.jsx)(T.Z,{className:"w-3.5 h-3.5"}),"Pending"]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"px-4 py-2 text-xs font-medium rounded-xl bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>eg(e),disabled:!e.id_picture_url,children:"Review ID"}),(0,a.jsx)("button",{className:"px-4 py-2 text-xs font-medium rounded-xl bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-900/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>e5(e,!e.is_verified),disabled:ew,children:e.is_verified?"Unverify":"Verify"})]})]})]})},e.id)})})]}),tb=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:(0,a.jsx)(A.Z,{className:"w-5 h-5 text-white"})}),"Announcements"]}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Share updates and important information with athletes"})]}),(0,a.jsxs)("button",{onClick:()=>ec(!0),className:"px-5 py-2.5 text-sm rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4"}),"New Announcement"]})]}),ed&&(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-2 border-purple-200 dark:border-purple-800",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Create New Announcement"]}),(0,a.jsxs)("form",{onSubmit:e0,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title"}),(0,a.jsx)("input",{value:ex.title,onChange:e=>em(t=>({...t,title:e.target.value})),placeholder:"Enter announcement title...",className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Content"}),(0,a.jsx)("textarea",{value:ex.content,onChange:e=>em(t=>({...t,content:e.target.value})),placeholder:"Write your announcement content here...",rows:6,className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)("button",{type:"button",onClick:()=>ec(!1),className:"px-5 py-2.5 rounded-xl bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl",children:"Post Announcement"})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===_.length?(0,a.jsxs)("div",{className:"text-center py-12 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:[(0,a.jsx)(A.Z,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No announcements yet"}),(0,a.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Create your first announcement to get started"})]}):_.map((e,t)=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"group relative p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all hover:border-purple-300 dark:hover:border-purple-700",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 rounded-t-2xl"}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:eu===e.id?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title"}),(0,a.jsx)("input",{type:"text",value:eb.title,onChange:e=>ep(t=>({...t,title:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white",placeholder:"Announcement title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Content"}),(0,a.jsx)("textarea",{value:eb.content,onChange:e=>ep(t=>({...t,content:e.target.value})),className:"w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white min-h-[120px]",placeholder:"Announcement content"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>e3(e.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),"Save"]}),(0,a.jsxs)("button",{onClick:e4,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Cancel"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(A.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[(0,a.jsx)(R.Z,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,a.jsx)("div",{className:"pl-13",children:(0,a.jsx)("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line",children:e.content})})]})}),eu!==e.id&&(0,a.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>e1(e),className:"p-2 rounded-xl text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",title:"Edit announcement",children:(0,a.jsx)(B.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>e2(e.id),className:"p-2 rounded-xl text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",title:"Delete announcement",children:(0,a.jsx)(Y.Z,{className:"w-5 h-5"})})]})]})]},e.id))})]}),tp=e=>{try{if("sport"===e){let e={};e6.forEach(t=>{let s=t.sport||"Unspecified";e[s]||(e[s]=[]),e[s].push(t)}),Object.entries(e).forEach(e=>{let[t,s]=e,a=["Full Name,Email,Student ID,Sport,Course,Year Level,Status,Verified,Created Date",...s.map(e=>['"'.concat(e.full_name||"",'"'),'"'.concat(e.email||"",'"'),'"'.concat(e.student_id||"",'"'),'"'.concat(e.sport||"",'"'),'"'.concat(e.course||"",'"'),'"'.concat(e.year_level||"",'"'),'"'.concat(e.is_verified?"Verified":"Pending",'"'),'"'.concat(e.is_verified?"Yes":"No",'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download="athletes_by_sport_".concat(t.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0],".csv"),l.click(),l.remove()}),k.ZP.success("Exported ".concat(Object.keys(e).length," sport categories"));return}if("course"===e){let e={};e6.forEach(t=>{let s=t.course||"Unspecified";e[s]||(e[s]=[]),e[s].push(t)}),Object.entries(e).forEach(e=>{let[t,s]=e,a=["Full Name,Email,Student ID,Sport,Course,Year Level,Status,Verified,Created Date",...s.map(e=>['"'.concat(e.full_name||"",'"'),'"'.concat(e.email||"",'"'),'"'.concat(e.student_id||"",'"'),'"'.concat(e.sport||"",'"'),'"'.concat(e.course||"",'"'),'"'.concat(e.year_level||"",'"'),'"'.concat(e.is_verified?"Verified":"Pending",'"'),'"'.concat(e.is_verified?"Yes":"No",'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download="athletes_by_course_".concat(t.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().split("T")[0],".csv"),l.click(),l.remove()}),k.ZP.success("Exported ".concat(Object.keys(e).length," course categories"));return}let t=["Full Name,Email,Student ID,Sport,Course,Year Level,Status,Verified,Created Date",...e6.map(e=>['"'.concat(e.full_name||"",'"'),'"'.concat(e.email||"",'"'),'"'.concat(e.student_id||"",'"'),'"'.concat(e.sport||"",'"'),'"'.concat(e.course||"",'"'),'"'.concat(e.year_level||"",'"'),'"'.concat(e.is_verified?"Verified":"Pending",'"'),'"'.concat(e.is_verified?"Yes":"No",'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download="athletes_all_".concat(new Date().toISOString().split("T")[0],".csv"),a.click(),a.remove(),k.ZP.success("Exported ".concat(e6.length," athletes"))}catch(e){console.error("Export error:",e),k.ZP.error("Failed to export data")}},tf=()=>{let e;let t=new Date,s=t;switch(eY){case"today":e=new Date(t.setHours(0,0,0,0)),s=new Date(t.setHours(23,59,59,999));break;case"this-week":(e=new Date(t)).setDate(t.getDate()-t.getDay()),e.setHours(0,0,0,0),(s=new Date(t)).setHours(23,59,59,999);break;case"this-month":e=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59,999);break;case"last-month":e=new Date(t.getFullYear(),t.getMonth()-1,1),s=new Date(t.getFullYear(),t.getMonth(),0,23,59,59,999);break;case"this-year":e=new Date(t.getFullYear(),0,1),s=new Date(t.getFullYear(),11,31,23,59,59,999);break;case"custom-range":if(!eW||!eX)return null;(e=new Date(eW)).setHours(0,0,0,0),(s=new Date(eX)).setHours(23,59,59,999);break;default:return null}return{startDate:e,endDate:s}},tg=()=>{let e=tf();try{let a="",r="";switch(eL){case"athletes":let l=e6;e&&(l=e6.filter(t=>{let s=new Date(t.created_at);return s>=e.startDate&&s<=e.endDate})),a=["Full Name,Email,Student ID,Sport,Course,Year Level,Phone,Status,Verified,Created Date",...l.map(e=>['"'.concat(e.full_name||"",'"'),'"'.concat(e.email||"",'"'),'"'.concat(e.student_id||"",'"'),'"'.concat(e.sport||"",'"'),'"'.concat(e.course||"",'"'),'"'.concat(e.year_level||"",'"'),'"'.concat(e.phone||"",'"'),'"'.concat(e.is_verified?"Verified":"Pending",'"'),'"'.concat(e.is_verified?"Yes":"No",'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),r="athletes_report_".concat(new Date().toISOString().split("T")[0],".csv");break;case"files":let i=g;e&&(i=g.filter(t=>{let s=new Date(t.created_at);return s>=e.startDate&&s<=e.endDate})),a=["Original Name,File Size,MIME Type,Uploaded By,Folder,Created Date",...i.map(e=>['"'.concat(e.original_name||"",'"'),'"'.concat(ta(e.file_size),'"'),'"'.concat(e.mime_type||"",'"'),'"'.concat(e.uploaded_by||"",'"'),'"'.concat(e.folder_id||e.student_folder_id||"N/A",'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),r="files_report_".concat(new Date().toISOString().split("T")[0],".csv");break;case"folders":{var t,s;let l=eV?u.filter(e=>e.id===eV):u;e&&(l=l.filter(t=>{let s=new Date(t.created_at);return s>=e.startDate&&s<=e.endDate})),a=["Folder Name,Description,Created By,Total Subfolders,Total Files,Created Date,Color",...l.map(e=>{let t=p.filter(t=>t.sport_folder_id===e.id),s=t.map(e=>e.id),a=g.filter(t=>!!(t.folder_id===e.id||t.student_folder_id&&s.includes(t.student_folder_id))).length;return['"'.concat(e.name||"",'"'),'"'.concat(e.description||"",'"'),'"'.concat(e.created_by||"N/A",'"'),'"'.concat(t.length,'"'),'"'.concat(a,'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"'),'"'.concat(e.color||"N/A",'"')].join(",")})].join("\n");let i=eV&&(null===(s=u.find(e=>e.id===eV))||void 0===s?void 0:null===(t=s.name)||void 0===t?void 0:t.replace(/\s+/g,"_"))||"all";r="folders_report_".concat(i,"_").concat(new Date().toISOString().split("T")[0],".csv");break}case"announcements":let n=_;e&&(n=_.filter(t=>{let s=new Date(t.created_at);return s>=e.startDate&&s<=e.endDate})),a=["Title,Content,Created Date",...n.map(e=>['"'.concat(e.title||"",'"'),'"'.concat((e.content||"").replace(/"/g,'""'),'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),r="announcements_report_".concat(new Date().toISOString().split("T")[0],".csv");break;case"verification":let o=e6;e&&(o=e6.filter(t=>{let s=new Date(t.created_at);return s>=e.startDate&&s<=e.endDate})),a=["Full Name,Email,Student ID,Sport,Verification Status,Verified Date,Created Date",...o.map(e=>['"'.concat(e.full_name||"",'"'),'"'.concat(e.email||"",'"'),'"'.concat(e.student_id||"",'"'),'"'.concat(e.sport||"",'"'),'"'.concat(e.is_verified?"Verified":"Pending",'"'),'"'.concat(e.is_verified?new Date(e.created_at).toLocaleDateString():"N/A",'"'),'"'.concat(new Date(e.created_at).toLocaleDateString(),'"')].join(","))].join("\n"),r="verification_report_".concat(new Date().toISOString().split("T")[0],".csv");break;default:k.ZP.error("Invalid report type");return}let d=new Blob([a],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(d),c.download=r,c.click(),c.remove(),k.ZP.success("Report downloaded successfully: ".concat(r))}catch(e){console.error("Export error:",e),k.ZP.error("Failed to generate report")}},tw=()=>{var e,t;let s=e6.length>0?Math.round(e9.length/e6.length*100):0,r=g.length,l=g.reduce((e,t)=>e+(t.file_size||0),0),n=[{value:"athletes",label:"Athletes"},{value:"files",label:"Files"},{value:"folders",label:"Folders"},{value:"announcements",label:"Announcements"},{value:"verification",label:"Verification Status"}],o=[{value:"today",label:"Today"},{value:"this-week",label:"This Week"},{value:"this-month",label:"This Month"},{value:"last-month",label:"Last Month"},{value:"this-year",label:"This Year"},{value:"custom-range",label:"Custom Range"}],d=[{id:"monthly-athletes",title:"Monthly Athletes Summary",icon:c.Z,type:"athletes"},{id:"verification-report",title:"Verification Status Report",icon:U.Z,type:"verification"},{id:"files-upload",title:"Files Upload Report",icon:z.Z,type:"files"},{id:"folders-activity",title:"Folders Activity Report",icon:F.Z,type:"folders"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Reports & Analytics"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Generate and export system reports"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Generate Report"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Report Type"}),(0,a.jsxs)("button",{onClick:()=>{eB(!eM),eq(!1)},className:"w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-left text-slate-900 dark:text-white hover:border-slate-400 dark:hover:border-slate-500 transition-colors",children:[(0,a.jsx)("span",{children:(null===(e=n.find(e=>e.value===eL))||void 0===e?void 0:e.label)||"Athletes"}),(0,a.jsx)(q.Z,{className:"w-4 h-4 text-slate-500 transition-transform ".concat(eM?"rotate-180":"")})]}),eM&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg",children:n.map(e=>(0,a.jsxs)("button",{onClick:()=>{eR(e.value),eB(!1),"folders"!==e.value&&eJ("")},className:"w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors first:rounded-t-lg last:rounded-b-lg",children:[(0,a.jsx)("span",{className:"text-slate-900 dark:text-white",children:e.label}),eL===e.value&&(0,a.jsx)(b.Z,{className:"w-4 h-4 text-blue-600"})]},e.value))})]}),(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date Range"}),(0,a.jsxs)("button",{onClick:()=>{eq(!ez),eB(!1)},className:"w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-left text-slate-900 dark:text-white hover:border-slate-400 dark:hover:border-slate-500 transition-colors",children:[(0,a.jsx)("span",{children:(null===(t=o.find(e=>e.value===eY))||void 0===t?void 0:t.label)||"This Month"}),(0,a.jsx)(q.Z,{className:"w-4 h-4 text-slate-500 transition-transform ".concat(ez?"rotate-180":"")})]}),ez&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg",children:o.map(e=>(0,a.jsxs)("button",{onClick:()=>{eT(e.value),eq(!1),"custom-range"!==e.value&&(eG(""),eH(""))},className:"w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors first:rounded-t-lg last:rounded-b-lg",children:[(0,a.jsx)("span",{className:"text-slate-900 dark:text-white",children:e.label}),eY===e.value&&(0,a.jsx)(b.Z,{className:"w-4 h-4 text-blue-600"})]},e.value))})]})]}),"folders"===eL&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sport Folder"}),(0,a.jsxs)("select",{value:eV,onChange:e=>eJ(e.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white hover:border-slate-400 dark:hover:border-slate-500 transition-colors",children:[(0,a.jsx)("option",{value:"",children:"All Sport Folders"}),u.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"custom-range"===eY&&(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:eW,onChange:e=>eG(e.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white hover:border-slate-400 dark:hover:border-slate-500 transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:eX,onChange:e=>eH(e.target.value),min:eW,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white hover:border-slate-400 dark:hover:border-slate-500 transition-colors"})]})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsxs)("button",{onClick:()=>tg(),disabled:"custom-range"===eY&&(!eW||!eX),className:"w-full md:w-auto px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(M.Z,{className:"w-5 h-5"}),"Download Excel Report"]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Quick Reports"}),(0,a.jsx)("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:d.map(e=>{let t=e.icon;return(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{eR(e.type),"athletes"===e.type||"verification"===e.type||e.type,tp("all")},children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,a.jsx)(t,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:e.title})})]})},e.id)})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 hover:shadow-lg transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Users"}),(0,a.jsx)(E.Z,{className:"w-8 h-8 text-blue-400 dark:text-blue-500"})]}),(0,a.jsx)("p",{className:"text-4xl font-bold text-blue-900 dark:text-blue-100",children:j.length}),(0,a.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:"All registered users"})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-800 hover:shadow-lg transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm font-medium text-purple-600 dark:text-purple-400",children:"Athletes"}),(0,a.jsx)(T.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-400 dark:text-purple-500"})]}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-purple-900 dark:text-purple-100",children:e6.length}),(0,a.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1 sm:mt-2",children:"Registered athletes"})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 hover:shadow-lg transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm font-medium text-green-600 dark:text-green-400",children:"Verified"}),(0,a.jsx)(U.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-400 dark:text-green-500"})]}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-green-900 dark:text-green-100",children:e9.length}),(0,a.jsxs)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 sm:mt-2",children:[s,"% verification rate"]})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 hover:shadow-lg transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm font-medium text-amber-600 dark:text-amber-400",children:"Folders"}),(0,a.jsx)(F.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-400 dark:text-amber-500"})]}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-amber-900 dark:text-amber-100",children:u.length}),(0,a.jsx)("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1 sm:mt-2",children:"Total folders created"})]})]}),(0,a.jsxs)("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:(0,a.jsx)(O.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Files"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r})]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Files across all folders"})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:(0,a.jsx)(I.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Storage Used"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ta(l)})]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total storage capacity"})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center",children:(0,a.jsx)(A.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Announcements"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:_.length})]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total announcements posted"})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-2",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 dark:text-white mb-3 sm:mb-4",children:"Athletes by Sport"}),(0,a.jsx)(J.h,{width:"100%",height:250,className:"sm:h-[300px]",children:(0,a.jsxs)(W.v,{data:e7,children:[(0,a.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,a.jsx)(X.K,{dataKey:"name",tick:{fill:"#64748b",fontSize:12},angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(H.B,{tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(K.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),(0,a.jsx)(Q.$,{dataKey:"value",fill:"#3b82f6",radius:[8,8,0,0]})]})})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Verification Status"}),(0,a.jsx)(J.h,{width:"100%",height:300,children:(0,a.jsxs)($.u,{children:[(0,a.jsx)(ee.b,{data:te,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return"".concat(t,": ").concat(s?(100*s).toFixed(0):0,"%")},outerRadius:100,fill:"#8884d8",dataKey:"value",children:te.map((e,t)=>(0,a.jsx)(et.b,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(K.u,{}),(0,a.jsx)(es.D,{})]})})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Athletes by Course"}),(0,a.jsx)(J.h,{width:"100%",height:300,children:(0,a.jsxs)(W.v,{data:tt,children:[(0,a.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,a.jsx)(X.K,{dataKey:"name",tick:{fill:"#64748b",fontSize:12},angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(H.B,{tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(K.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),(0,a.jsx)(Q.$,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Registration Trend"}),(0,a.jsx)(J.h,{width:"100%",height:300,children:(0,a.jsxs)(ea.w,{data:ts,children:[(0,a.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,a.jsx)(X.K,{dataKey:"month",tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(H.B,{tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(K.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),(0,a.jsx)(er.x,{type:"monotone",dataKey:"registrations",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:5},activeDot:{r:8}})]})})]})]})]})};return s?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900",children:[(0,a.jsxs)("header",{className:"relative overflow-hidden border-b border-white/40 dark:border-slate-800 bg-white/80 dark:bg-slate-900/70 backdrop-blur-xl",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-60 blur-3xl pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute -top-20 left-10 h-56 w-56 bg-gradient-to-br from-sky-400/40 via-indigo-500/30 to-purple-500/30 rounded-full"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-6 h-40 w-40 bg-gradient-to-br from-emerald-400/30 to-teal-500/30 rounded-full"})]}),(0,a.jsxs)("div",{className:"relative max-w-6xl mx-auto px-4 py-6 flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/70 dark:bg-slate-800 text-xs font-medium text-slate-500 dark:text-slate-300 shadow-sm",children:[(0,a.jsx)(V.Z,{className:"w-3 h-3 text-sky-500"}),"Elite Performance Unit"]}),(0,a.jsxs)("h1",{className:"mt-3 text-2xl sm:text-3xl font-semibold text-slate-900 dark:text-white tracking-tight",children:["Welcome back, ",null!==(t=null===(e=s.user_metadata)||void 0===e?void 0:e.full_name)&&void 0!==t?t:"Admin"]}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Oversee athlete data, approvals, and announcements from a single command center."})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,a.jsxs)("button",{onClick:eK,className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl bg-slate-900 text-white text-xs sm:text-sm font-semibold shadow-lg",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,a.jsx)("button",{onClick:n,className:"flex-1 sm:flex-initial px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl border border-red-500/50 text-red-500 text-xs sm:text-sm font-semibold hover:bg-red-500/10 transition",children:"Sign out"})]})]})]}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 sm:gap-3 overflow-x-auto pb-2 -mx-3 sm:mx-0 px-3 sm:px-0",children:eo.map(e=>{let t=e.icon,s=o===e.id;return(0,a.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold border transition whitespace-nowrap ".concat(s?"bg-blue-600 text-white border-blue-600":"bg-white/70 dark:bg-slate-900/60 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-300"),children:[(0,a.jsx)(t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.label]},e.id)})}),(0,a.jsx)("section",{className:"bg-white/80 dark:bg-slate-900/70 rounded-2xl sm:rounded-3xl border border-white/40 dark:border-slate-800 p-4 sm:p-6 min-h-[320px]",children:x?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Loading dashboard data..."})]}):(()=>{switch(o){case"folders":return tu();case"users":return th();case"announcements":return tb();case"analytics":return tw();default:return null}})()})]}),ef?(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl max-w-md w-full p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Verification review"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:ef.full_name})]}),(0,a.jsx)("button",{onClick:()=>eg(null),className:"text-slate-500 hover:text-slate-700",children:(0,a.jsx)(y.Z,{className:"w-5 h-5"})})]}),ef.id_picture_url?(0,a.jsx)("img",{src:ef.id_picture_url,alt:"ID",className:"w-full rounded-xl border border-slate-200 dark:border-slate-700"}):(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"This user has not uploaded an ID yet."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>e5(ef,!1),className:"flex-1 px-4 py-2 rounded-lg bg-slate-200 dark:bg-slate-700",disabled:ew,children:"Mark pending"}),(0,a.jsx)("button",{onClick:()=>e5(ef,!0),className:"flex-1 px-4 py-2 rounded-lg bg-green-600 text-white",disabled:ew,children:"Verify"})]})]})}):null,eD&&(0,a.jsx)("div",{className:"fixed inset-0 z-[2000] bg-black/80 flex items-center justify-center p-4",children:(0,a.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white truncate",children:eD.original_name}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:ta(eD.file_size)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsxs)("button",{onClick:ti,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4"}),"Download"]}),(0,a.jsx)("button",{onClick:()=>{eZ(null),eF&&eF.startsWith("blob:")&&URL.revokeObjectURL(eF),eE(null),eI(!1),eU(null)},className:"p-2 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 rounded-lg transition-colors",children:(0,a.jsx)(y.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4 bg-slate-100 dark:bg-slate-800",children:eA?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[600px] gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading PDF..."})]}):eO?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[600px] gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400 font-medium",children:eO}),(0,a.jsxs)("button",{onClick:ti,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4"}),"Try Download Instead"]})]}):eF?(0,a.jsx)("iframe",{src:eF,className:"w-full h-full min-h-[600px] rounded-lg border border-slate-300 dark:border-slate-700",title:eD.original_name}):null})]})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:"Authentication required"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Please sign in to continue."})]})})}var ec=s(49474),ex=s(46506),em=s(73247),eu=s(17689);function eh(){var e,t,s,n,o,d,x,m,u,p,f,g,j,v,_,S;let[C,P]=(0,r.useState)("sport-folders"),[D,Z]=(0,r.useState)([]),[E,A]=(0,r.useState)([]),[I,O]=(0,r.useState)([]),[U,T]=(0,r.useState)([]),[z,q]=(0,r.useState)(!0),[V,J]=(0,r.useState)(!1),[W,G]=(0,r.useState)(!1),[X,H]=(0,r.useState)(null),[K,Q]=(0,r.useState)({name:"",description:""}),[$,ee]=(0,r.useState)(null),[et,es]=(0,r.useState)(""),{user:ea,signOut:er}=(0,l.a)(),[el,ei]=(0,r.useState)(null),[en,eo]=(0,r.useState)([]),[ed,eh]=(0,r.useState)(!1),[eb,ep]=(0,r.useState)({name:""}),[ef,eg]=(0,r.useState)(null),[ew,ej]=(0,r.useState)(null),[ev,ey]=(0,r.useState)(""),[eN,ek]=(0,r.useState)(!1),[e_,eS]=(0,r.useState)(!1),[eC,eP]=(0,r.useState)(null),[eD,eZ]=(0,r.useState)(!1),[eF,eE]=(0,r.useState)(!1),[eA,eI]=(0,r.useState)([]),[eO,eU]=(0,r.useState)(!1),[eL,eR]=(0,r.useState)({full_name:"",sport:"",course:"",year_level:"",phone:"",student_id:""}),[eY,eT]=(0,r.useState)(!1),eM=["#FCD34D","#F97316","#FB7185","#A855F7","#38BDF8","#34D399","#F472B6","#FBBF24"],eB=e=>eM[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%eM.length],ez=e=>{var t;return e?null!==(t=e.color)&&void 0!==t?t:eB(e.id):eM[0]};(0,r.useEffect)(()=>{eW(),eG(),eV(),eJ(),eq()},[ea]);let eq=async()=>{if(null==ea?void 0:ea.id)try{let{data:e,error:t}=await N.O.from("student_folders").select("*").eq("student_id",ea.id).maybeSingle();if(t)throw t;eg(e||null)}catch(e){console.error("Error fetching user subfolder:",e)}},eV=async()=>{try{if(!(null==ea?void 0:ea.id))return;let{data:e}=await N.O.from("users").select("full_name, sport, course, year_level, phone, student_id, is_verified, id_picture_url").eq("id",ea.id).single();e&&(eR({full_name:e.full_name||"",sport:e.sport||"",course:e.course||"",year_level:e.year_level||"",phone:e.phone||"",student_id:e.student_id||""}),eT(!!e.is_verified))}catch(e){console.error("Error fetching profile data:",e)}},eJ=async()=>{try{console.log("Fetching announcements...");let{data:e,error:t}=await N.O.from("announcements").select("*").order("created_at",{ascending:!1});if(t){console.error("Error fetching announcements:",t),k.ZP.error("Failed to fetch announcements");return}if(console.log("Announcements fetched:",e),e&&e.length>0){let t=Array.from(new Set(e.map(e=>e.created_by))),{data:s,error:a}=await N.O.from("users").select("id, full_name, email").in("id",t);a&&console.error("Error fetching users:",a);let r=e.map(e=>({...e,users:(null==s?void 0:s.find(t=>t.id===e.created_by))||null}));eI(r)}else eI([])}catch(e){console.error("Error fetching announcements:",e),k.ZP.error("Failed to fetch announcements")}},eW=async()=>{try{let{data:e}=await N.O.from("student_folders").select("*").eq("student_id",null==ea?void 0:ea.id).order("created_at",{ascending:!1}),{data:t}=await N.O.from("files").select("*").eq("uploaded_by",null==ea?void 0:ea.id).not("student_folder_id","is",null).order("created_at",{ascending:!1}),{data:s}=await N.O.from("folders").select("*").eq("is_public",!0).order("created_at",{ascending:!1});Z(e||[]),T(t||[]),O(t||[]),A(s||[])}catch(e){k.ZP.error("Failed to fetch data")}finally{q(!1)}},eG=async()=>{try{if(!(null==ea?void 0:ea.id))return;let{data:e}=await N.O.from("users").select("profile_picture_url").eq("id",ea.id).single();eP((null==e?void 0:e.profile_picture_url)||null)}catch(e){}},eX=async e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s&&(null==ea?void 0:ea.id))try{eS(!0);let e=s.name.split(".").pop(),t="".concat(ea.id,".").concat(e),a="".concat(ea.id,"/").concat(t),{error:r}=await N.O.storage.from("profile-pictures").upload(a,s,{upsert:!0});if(r)throw r;let{data:l}=N.O.storage.from("profile-pictures").getPublicUrl(a);await N.O.from("users").update({profile_picture_url:l.publicUrl}).eq("id",ea.id),eP(l.publicUrl),ek(!1),k.ZP.success("Profile image updated")}catch(e){k.ZP.error("Failed to update avatar")}finally{eS(!1)}},eH=async e=>{try{let{data:t,error:s}=await N.O.from("student_folders").select("*").eq("sport_folder_id",e).order("created_at",{ascending:!1});if(s)throw s;if(eo(t||[]),t&&t.length>0){let e=t.map(e=>e.id),{data:s,error:a}=await N.O.from("files").select("*").in("student_folder_id",e).order("created_at",{ascending:!1});a||O([...U||[],...s||[]])}else O([...U||[]])}catch(e){k.ZP.error("Failed to fetch subfolders")}},eK=async e=>{ei(e),H(null),eh(!1),G(!1),await eH(e.id)},eQ=async e=>{if(e.preventDefault(),ea&&el){if(!eY){k.ZP.error("You must be verified to create a subfolder");return}try{if(ef){k.ZP.error("You can only have one subfolder. Please delete your existing subfolder first.");return}let{error:e}=await N.O.from("student_folders").insert({name:eb.name,student_id:ea.id,sport_folder_id:el.id});if(e)throw e;k.ZP.success("Subfolder created!"),ep({name:""}),eh(!1),await eq(),await eH(el.id)}catch(e){console.error("Error creating subfolder:",e),k.ZP.error("Failed to create subfolder")}}},e$=async e=>{if(confirm("Are you sure you want to delete this subfolder? All files in it will also be deleted."))try{let{error:t}=await N.O.from("files").delete().eq("student_folder_id",e);if(t)throw t;let{error:s}=await N.O.from("student_folders").delete().eq("id",e);if(s)throw s;k.ZP.success("Subfolder deleted successfully!"),X===e&&(H(null),G(!1)),await eq(),el&&await eH(el.id)}catch(e){console.error("Error deleting subfolder:",e),k.ZP.error("Failed to delete subfolder")}},e0=e=>{e.student_id===(null==ea?void 0:ea.id)&&(ej(e.id),ey(e.name))},e2=()=>{ej(null),ey("")},e1=async e=>{if(!ev.trim()){k.ZP.error("Subfolder name cannot be empty");return}try{let{error:t}=await N.O.from("student_folders").update({name:ev.trim()}).eq("id",e);if(t)throw t;k.ZP.success("Subfolder updated successfully!"),ej(null),ey(""),await eq(),el&&await eH(el.id)}catch(e){console.error("Error updating subfolder:",e),k.ZP.error("Failed to update subfolder")}},e4=async e=>{if(e.preventDefault(),!$||!ea){k.ZP.error("Please select a file to upload");return}if(!eY){k.ZP.error("You must be verified to upload files");return}if(!X){k.ZP.error("Please select a subfolder to upload to");return}try{let e=$.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),s="".concat(ea.id,"/").concat(t),{error:a}=await N.O.storage.from("athlete-files").upload(s,$);if(a)throw a;let{error:r}=await N.O.from("files").insert({name:t,original_name:$.name,file_path:s,file_size:$.size,mime_type:$.type,student_folder_id:X,uploaded_by:ea.id});if(r)throw r;if(k.ZP.success("File uploaded successfully!"),ee(null),G(!1),await eW(),el&&(await eH(el.id),X)){let{data:e}=await N.O.from("files").select("*").eq("student_folder_id",X).order("created_at",{ascending:!1});O(e||[])}H(null)}catch(t){console.error("Upload error:",t);let e=t instanceof Error?t.message:"Unknown error occurred";k.ZP.error("Failed to upload file: ".concat(e))}},e3=async e=>{if(e.preventDefault(),!$||!ea){k.ZP.error("Please select a file to upload");return}if(!X){k.ZP.error("Please select a folder to upload to");return}try{let e=$.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),s="".concat(ea.id,"/").concat(t),{error:a}=await N.O.storage.from("athlete-files").upload(s,$);if(a)throw a;let{error:r}=await N.O.from("files").insert({name:t,original_name:$.name,file_path:s,file_size:$.size,mime_type:$.type,student_folder_id:X,uploaded_by:ea.id});if(r)throw r;k.ZP.success("File uploaded successfully!"),ee(null),G(!1),H(null),eW()}catch(t){console.error("Upload error:",t);let e=t instanceof Error?t.message:"Unknown error occurred";k.ZP.error("Failed to upload file: ".concat(e))}},e5=async e=>{if(confirm("Are you sure you want to delete this file?"))try{let{error:t}=await N.O.from("files").delete().eq("id",e);if(t)throw t;k.ZP.success("File deleted successfully!"),eW()}catch(e){k.ZP.error("Failed to delete file")}},e6=async e=>{try{let{data:t,error:s}=await N.O.storage.from("athlete-files").download(e.name);if(s)throw s;let a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=e.original_name,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}catch(e){k.ZP.error("Failed to download file")}},e9=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},e8=async e=>{if(e.preventDefault(),null==ea?void 0:ea.id)try{let{error:e}=await N.O.from("users").update({full_name:eL.full_name,sport:eL.sport,course:eL.course,year_level:eL.year_level,phone:eL.phone,student_id:eL.student_id,updated_at:new Date().toISOString()}).eq("id",ea.id);if(e)throw e;k.ZP.success("Profile updated successfully!"),eU(!1),eV()}catch(e){console.error("Error updating profile:",e),k.ZP.error("Failed to update profile")}},e7=e=>e.includes("pdf")?"\uD83D\uDCC4":e.includes("image")?"\uD83D\uDDBC️":e.includes("word")||e.includes("document")?"\uD83D\uDCDD":"\uD83D\uDCC1",te=I.filter(e=>et?e.original_name.toLowerCase().includes(et.toLowerCase()):!el||!X||e.student_folder_id===X),tt=[{id:"sport-folders",label:"Sport Folders",icon:F.Z},{id:"my-files",label:"My Files",icon:c.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900",children:[(0,a.jsx)("header",{className:"relative z-[1000] bg-white/20 dark:bg-gray-800/20 backdrop-blur-xl border-b border-white/30 dark:border-gray-700/30 p-4 sm:p-6 shadow-2xl",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-blue-900 dark:text-white",children:"My Files Dashboard"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-blue-600 dark:text-blue-300",children:"Manage your personal files and folders"})]}),(0,a.jsxs)("div",{className:"relative z-[9999] flex flex-wrap items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[(0,a.jsxs)("span",{className:"text-sm sm:text-base text-blue-600 dark:text-blue-300",children:["Welcome, ",null==ea?void 0:null===(e=ea.user_metadata)||void 0===e?void 0:e.full_name]}),(0,a.jsx)("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ".concat(eY?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300"),children:eY?"Verified Athlete":"Pending Verification"}),(0,a.jsx)("button",{onClick:()=>ek(e=>!e),className:"rounded-full focus:outline-none focus:ring-2 focus:ring-white/50","aria-haspopup":"menu","aria-expanded":eN,children:eC?(0,a.jsx)(h.default,{src:eC,alt:"Profile",width:40,height:40,className:"w-10 h-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-white font-bold",children:(null==ea?void 0:null===(n=ea.user_metadata)||void 0===n?void 0:null===(s=n.full_name)||void 0===s?void 0:null===(t=s.charAt(0))||void 0===t?void 0:t.toUpperCase())||"U"})}),eN&&(0,a.jsxs)("div",{className:"absolute right-0 top-12 w-56 bg-white text-secondary-900 rounded-lg shadow-xl border border-secondary-200 overflow-hidden z-[10000]",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-secondary-200",children:[eC?(0,a.jsx)(h.default,{src:eC,alt:"Profile",width:56,height:56,className:"w-14 h-14 rounded-full object-cover mx-auto mb-2"}):(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-secondary-100 flex items-center justify-center mx-auto text-secondary-700 font-bold mb-2",children:(null==ea?void 0:null===(x=ea.user_metadata)||void 0===x?void 0:null===(d=x.full_name)||void 0===d?void 0:null===(o=d.charAt(0))||void 0===o?void 0:o.toUpperCase())||"U"}),(0,a.jsx)("p",{className:"font-semibold text-center",children:(null==ea?void 0:null===(m=ea.user_metadata)||void 0===m?void 0:m.full_name)||"User"}),(0,a.jsx)("p",{className:"text-xs text-secondary-600 text-center",children:null==ea?void 0:ea.email})]}),(0,a.jsx)("button",{onClick:()=>{eZ(!0),ek(!1)},className:"w-full text-left px-4 py-3 text-sm hover:bg-secondary-50 border-b border-secondary-100",children:"Profile"}),(0,a.jsx)("button",{onClick:()=>{eE(!0),ek(!1)},className:"w-full text-left px-4 py-3 text-sm hover:bg-secondary-50 border-b border-secondary-100",children:"Announcements"}),(0,a.jsx)("button",{onClick:er,className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50",children:"Log Out"})]})]})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-4 sm:p-6",children:[eL.sport&&(0,a.jsx)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-4 z-50 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-2xl shadow-2xl border border-white/20 p-4 sm:p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,a.jsx)(ec.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(ex.Z,{className:"w-4 h-4 text-white/80"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-white/80 font-medium uppercase tracking-wider",children:"My Sport"})]}),(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:eL.sport}),eL.course&&(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/90 mt-1",children:eL.course})]})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-lg",children:[(0,a.jsx)("span",{className:"text-white/90 text-sm font-medium",children:"Year Level:"}),(0,a.jsx)("span",{className:"text-white font-bold",children:eL.year_level||"N/A"})]})]})}),(0,a.jsx)("div",{className:"mb-6 rounded-xl sm:rounded-2xl border px-4 sm:px-6 py-3 sm:py-4 shadow-lg ".concat(eY?"bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-700":"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/30 dark:border-yellow-700"),children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold",children:eY?"Your athlete profile is verified.":"Your profile is awaiting verification."}),(0,a.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 mt-1",children:eY?"You have full access to all features.":"Please ensure your SSU ID details are correct. An administrator will review your ID soon."})]}),!eY&&(0,a.jsx)("span",{className:"text-xs uppercase tracking-wide font-semibold text-yellow-700 dark:text-yellow-300 px-3 py-1 rounded-full bg-yellow-100 dark:bg-yellow-800",children:"Verification in progress"})]})}),(0,a.jsx)("div",{className:"flex space-x-2 mb-8 bg-white/20 dark:bg-gray-800/20 backdrop-blur-xl rounded-2xl p-2 shadow-2xl border border-white/30 dark:border-gray-700/30",children:tt.map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>P(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ".concat(C===e.id?"bg-primary-600 text-white shadow-md":"text-secondary-600 hover:text-primary-600 hover:bg-primary-50"),children:[(0,a.jsx)(t,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.label})]},e.id)})}),(0,a.jsx)("div",{className:"bg-white/10 dark:bg-gray-800/10 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/20 p-4 sm:p-6 lg:p-8",children:z?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,a.jsxs)(a.Fragment,{children:["my-files"===C&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900",children:el&&X?"Files in ".concat((null===(u=en.find(e=>e.id===X))||void 0===u?void 0:u.name)||"Subfolder"):"My Personal Files"}),el&&X&&(0,a.jsxs)("p",{className:"text-secondary-600 text-sm mt-1",children:["From ",el.name]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,a.jsx)(em.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-secondary-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search files...",value:et,onChange:e=>es(e.target.value),className:"input-field pl-10 w-full sm:w-64"})]}),(0,a.jsxs)("button",{onClick:()=>G(!0),className:"btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto",children:[(0,a.jsx)(eu.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Upload File"})]})]})]}),W&&(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"card mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload File"}),(0,a.jsxs)("form",{onSubmit:el?e4:e3,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Select File"}),(0,a.jsx)("input",{type:"file",onChange:e=>{var t;return ee((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"input-field",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:el?"Select Subfolder":"Upload to Personal Folder"}),(0,a.jsxs)("select",{value:X||"",onChange:e=>H(e.target.value||null),className:"input-field",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a folder"}),(el?en:D).map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:"Upload File"}),(0,a.jsx)("button",{type:"button",onClick:()=>G(!1),className:"btn-secondary",children:"Cancel"})]})]})]}),(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-secondary-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Size"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Type"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Uploaded"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:te.map(e=>(0,a.jsxs)("tr",{className:"border-b border-secondary-100 hover:bg-secondary-50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-lg",children:e7(e.mime_type)}),(0,a.jsx)("span",{className:"font-medium",children:e.original_name})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-600",children:e9(e.file_size)}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-600",children:e.mime_type}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-600",children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>e6(e),className:"text-primary-600 hover:text-primary-700 p-1",children:(0,a.jsx)(M.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>e5(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,a.jsx)(Y.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]}),"sport-folders"===C&&(0,a.jsx)("div",{children:el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>{ei(null),eo([]),H(null),eh(!1),G(!1),O([...U||[]])},className:"text-primary-600 hover:text-primary-700",children:"Back"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-secondary-900",children:el.name})]}),eY&&!ef&&(0,a.jsxs)("button",{onClick:()=>eh(!0),className:"btn-primary flex items-center space-x-2",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Create Subfolder"})]}),!eY&&(0,a.jsx)("div",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:(0,a.jsx)("span",{children:"Verification required to create subfolder"})}),eY&&ef&&(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-center gap-2",children:(0,a.jsx)("span",{children:"You already have a subfolder. You can only have one subfolder across all sport folders."})})]}),ed&&(0,a.jsx)(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"card mb-4",children:(0,a.jsxs)("form",{onSubmit:eQ,className:"flex items-end space-x-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Subfolder Name"}),(0,a.jsx)("input",{type:"text",value:eb.name,onChange:e=>ep({name:e.target.value}),className:"input-field",placeholder:"Enter subfolder name",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:"Create"}),(0,a.jsx)("button",{type:"button",onClick:()=>eh(!1),className:"btn-secondary",children:"Cancel"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:en.map(e=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-xl",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(F.Z,{className:"w-5 h-5 text-green-600"})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:ew===e.id&&e.student_id===(null==ea?void 0:ea.id)?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:ev,onChange:e=>ey(e.target.value),className:"flex-1 px-2 py-1 text-sm border border-slate-300 rounded",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key?e1(e.id):"Escape"===t.key&&e2()}}),(0,a.jsx)("button",{onClick:()=>e1(e.id),className:"p-1 text-green-600 hover:text-green-700",title:"Save",children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:e2,className:"p-1 text-red-600 hover:text-red-700",title:"Cancel",children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:"font-semibold text-secondary-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-secondary-500",children:new Date(e.created_at).toLocaleDateString()})]})}),e.student_id===(null==ea?void 0:ea.id)&&ew!==e.id&&(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),e0(e)},className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",title:"Edit subfolder",children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),e$(e.id)},className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Delete subfolder",children:(0,a.jsx)(Y.Z,{className:"w-4 h-4"})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-secondary-500 pt-2 border-t border-secondary-200",children:[(0,a.jsxs)("button",{onClick:()=>H(e.id),className:"text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"View Files"})]}),eY&&e.student_id===(null==ea?void 0:ea.id)&&(0,a.jsxs)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),H(e.id),G(!0)},className:"text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[(0,a.jsx)(eu.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Upload"})]}),!eY&&e.student_id===(null==ea?void 0:ea.id)&&(0,a.jsx)("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Verification required"})]})]},e.id))}),0===en.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(F.Z,{className:"w-12 h-12 text-secondary-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"No subfolders yet. Create your first one."})]}),W&&X&&(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"card mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload File"}),(0,a.jsxs)("form",{onSubmit:e4,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Select File"}),(0,a.jsx)("input",{type:"file",onChange:e=>{var t;return ee((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"input-field",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["Uploading to: ",(null===(p=en.find(e=>e.id===X))||void 0===p?void 0:p.name)||"Subfolder"]}),(0,a.jsx)("p",{className:"text-sm text-secondary-500",children:"File will be uploaded to the selected subfolder"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:"Upload File"}),(0,a.jsx)("button",{type:"button",onClick:()=>{G(!1),ee(null)},className:"btn-secondary",children:"Cancel"})]})]})]}),X&&(0,a.jsxs)("div",{className:"card mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-secondary-900",children:["Files in ",(null===(f=en.find(e=>e.id===X))||void 0===f?void 0:f.name)||"Subfolder"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[eY&&(null===(g=en.find(e=>e.id===X))||void 0===g?void 0:g.student_id)===(null==ea?void 0:ea.id)&&(0,a.jsxs)("button",{onClick:()=>G(!0),className:"btn-primary flex items-center space-x-2 text-sm",children:[(0,a.jsx)(eu.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Upload File"})]}),(0,a.jsx)("button",{onClick:()=>{H(null),G(!1)},className:"text-primary-600 hover:text-primary-700 text-sm",children:"Clear"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-secondary-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Size"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Type"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Uploaded"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-secondary-700",children:"Actions"})]})}),(0,a.jsxs)("tbody",{children:[te.filter(e=>e.student_folder_id===X).map(e=>(0,a.jsxs)("tr",{className:"border-b border-secondary-100 hover:bg-secondary-50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-lg",children:e7(e.mime_type)}),(0,a.jsx)("span",{className:"font-medium",children:e.original_name})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-600",children:e9(e.file_size)}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-600",children:e.mime_type}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-600",children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("button",{onClick:()=>e6(e),className:"text-primary-600 hover:text-primary-700 p-1",children:(0,a.jsx)(M.Z,{className:"w-4 h-4"})})})})]},e.id)),0===te.filter(e=>e.student_folder_id===X).length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"py-6 px-4 text-center text-secondary-600",children:"No files in this subfolder yet."})})]})]})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-secondary-900",children:"Sport Folders"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Browse sport-related public folders"})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:E.map(e=>{let t=ez(e);return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>eK(e),className:"relative cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:-translate-y-0.5 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-lg hover:shadow-xl flex flex-col",children:[(0,a.jsxs)("div",{className:"relative w-[200px] h-[200px] overflow-hidden flex-shrink-0 mx-auto bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-900/40 dark:via-slate-900/10 dark:to-slate-900/30",children:[(0,a.jsx)("div",{className:"absolute top-[55%] left-[44.5%] w-28 h-20 shadow-lg border border-white/50 dark:border-white/10 -translate-x-1/2 -translate-y-1/2",style:{backgroundColor:t}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat z-10",style:{backgroundImage:"url('/folder.png')"}})]}),(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[(0,a.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white text-base mb-1 truncate",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:e.description})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-xs",children:[(0,a.jsx)(R.Z,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Public Folder"})]})]})]},e.id)})}),0===E.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(F.Z,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-secondary-600 mb-2",children:"No Sport Folders"}),(0,a.jsx)("p",{className:"text-secondary-500",children:"No public sport folders have been created yet."})]})]})}),el&&"my-files"===C&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-secondary-900",children:[el.name," Subfolders"]}),eY&&!ef&&(0,a.jsxs)("button",{onClick:()=>eh(!0),className:"btn-primary flex items-center space-x-2",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Create Subfolder"})]}),!eY&&(0,a.jsx)("div",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:(0,a.jsx)("span",{children:"Verification required to create subfolder"})}),eY&&ef&&(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-center gap-2",children:(0,a.jsx)("span",{children:"You already have a subfolder. You can only have one subfolder across all sport folders."})})]}),ed&&(0,a.jsx)(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"card mb-4",children:(0,a.jsxs)("form",{onSubmit:eQ,className:"flex items-end space-x-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Subfolder Name"}),(0,a.jsx)("input",{type:"text",value:eb.name,onChange:e=>ep({name:e.target.value}),className:"input-field",placeholder:"Enter subfolder name",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"btn-primary",children:"Create"}),(0,a.jsx)("button",{type:"button",onClick:()=>eh(!1),className:"btn-secondary",children:"Cancel"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:en.map(e=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-xl",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(F.Z,{className:"w-5 h-5 text-green-600"})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:ew===e.id&&e.student_id===(null==ea?void 0:ea.id)?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:ev,onChange:e=>ey(e.target.value),className:"flex-1 px-2 py-1 text-sm border border-slate-300 rounded",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key?e1(e.id):"Escape"===t.key&&e2()}}),(0,a.jsx)("button",{onClick:()=>e1(e.id),className:"p-1 text-green-600 hover:text-green-700",title:"Save",children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:e2,className:"p-1 text-red-600 hover:text-red-700",title:"Cancel",children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:"font-semibold text-secondary-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-secondary-500",children:new Date(e.created_at).toLocaleDateString()})]})}),e.student_id===(null==ea?void 0:ea.id)&&ew!==e.id&&(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),e0(e)},className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",title:"Edit subfolder",children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),e$(e.id)},className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Delete subfolder",children:(0,a.jsx)(Y.Z,{className:"w-4 h-4"})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-secondary-500 pt-2 border-t border-secondary-200",children:[(0,a.jsxs)("button",{onClick:()=>H(e.id),className:"text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"View Files"})]}),eY&&e.student_id===(null==ea?void 0:ea.id)&&(0,a.jsxs)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),H(e.id),G(!0)},className:"text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[(0,a.jsx)(eu.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Upload"})]}),!eY&&e.student_id===(null==ea?void 0:ea.id)&&(0,a.jsx)("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Verification required"})]})]},e.id))}),0===en.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(F.Z,{className:"w-12 h-12 text-secondary-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"No subfolders yet. Create your first one."})]})]})]})}),eD&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60",onClick:()=>{eZ(!1),eU(!1)}}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full border border-secondary-200",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:"Profile"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[!eO&&(0,a.jsx)("button",{onClick:()=>eU(!0),className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>{eZ(!1),eU(!1)},className:"text-secondary-600 hover:text-secondary-800",children:"✕"})]})]}),eO?(0,a.jsxs)("form",{onSubmit:e8,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[eC?(0,a.jsx)(h.default,{src:eC,alt:"Profile",width:56,height:56,className:"w-14 h-14 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-secondary-100 flex items-center justify-center text-secondary-700 font-bold",children:(null===(S=eL.full_name)||void 0===S?void 0:null===(_=S.charAt(0))||void 0===_?void 0:_.toUpperCase())||"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-secondary-900",children:"Profile Picture"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:eX,className:"mt-1 text-sm text-secondary-600 file:mr-4 file:py-1 file:px-3 file:rounded-md file:border-0 file:text-sm file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:eL.full_name,onChange:e=>eR({...eL,full_name:e.target.value}),className:"w-full px-3 py-2 border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Student ID"}),(0,a.jsx)("input",{type:"text",value:eL.student_id,onChange:e=>eR({...eL,student_id:e.target.value}),className:"w-full px-3 py-2 border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sport"}),(0,a.jsx)("input",{type:"text",value:eL.sport,onChange:e=>eR({...eL,sport:e.target.value}),className:"w-full px-3 py-2 border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Course"}),(0,a.jsx)("input",{type:"text",value:eL.course,onChange:e=>eR({...eL,course:e.target.value}),className:"w-full px-3 py-2 border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Year Level"}),(0,a.jsxs)("select",{value:eL.year_level,onChange:e=>eR({...eL,year_level:e.target.value}),className:"w-full px-3 py-2 border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,a.jsx)("option",{value:"",children:"Select Year Level"}),(0,a.jsx)("option",{value:"1st Year",children:"1st Year"}),(0,a.jsx)("option",{value:"2nd Year",children:"2nd Year"}),(0,a.jsx)("option",{value:"3rd Year",children:"3rd Year"}),(0,a.jsx)("option",{value:"4th Year",children:"4th Year"}),(0,a.jsx)("option",{value:"5th Year",children:"5th Year"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:eL.phone,onChange:e=>eR({...eL,phone:e.target.value}),className:"w-full px-3 py-2 border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>eU(!1),className:"px-4 py-2 text-sm text-secondary-600 hover:text-secondary-800 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Save Changes"})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[eC?(0,a.jsx)(h.default,{src:eC,alt:"Profile",width:56,height:56,className:"w-14 h-14 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-secondary-100 flex items-center justify-center text-secondary-700 font-bold",children:(null===(v=eL.full_name)||void 0===v?void 0:null===(j=v.charAt(0))||void 0===j?void 0:j.toUpperCase())||"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-secondary-900",children:eL.full_name||"User"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600",children:null==ea?void 0:ea.email})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-500",children:"Student ID"}),(0,a.jsx)("p",{className:"text-secondary-900",children:eL.student_id||"—"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-500",children:"Sport"}),(0,a.jsx)("p",{className:"text-secondary-900",children:eL.sport||"—"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-500",children:"Course"}),(0,a.jsx)("p",{className:"text-secondary-900",children:eL.course||"—"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-500",children:"Year Level"}),(0,a.jsx)("p",{className:"text-secondary-900",children:eL.year_level||"—"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-500",children:"Phone"}),(0,a.jsx)("p",{className:"text-secondary-900",children:eL.phone||"—"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary-500",children:"Role"}),(0,a.jsx)("p",{className:"text-secondary-900",children:"Athlete"})]})]})]})]})]}),eF&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60",onClick:()=>eE(!1)}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-secondary-200",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-secondary-900",children:"Announcements"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:eJ,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Refresh"}),(0,a.jsx)("button",{onClick:()=>eE(!1),className:"text-secondary-600 hover:text-secondary-800",children:"✕"})]})]}),0===eA.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCE2"})}),(0,a.jsx)("h4",{className:"text-lg font-semibold text-secondary-600 mb-2",children:"No Announcements"}),(0,a.jsx)("p",{className:"text-secondary-500 mb-4",children:"Check back later for updates from your coaches and administrators."}),(0,a.jsx)("button",{onClick:eJ,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Check for Updates"})]}):(0,a.jsx)("div",{className:"space-y-4",children:eA.map(e=>{var t;return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-blue-600 dark:text-blue-400",children:[(0,a.jsxs)("span",{children:["By ",(null===(t=e.users)||void 0===t?void 0:t.full_name)||"Admin"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})}),(0,a.jsx)("div",{className:"text-blue-800 dark:text-blue-200 leading-relaxed",children:e.content.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"mb-2 last:mb-0",children:e},t))}),e.updated_at&&e.updated_at!==e.created_at&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:(0,a.jsxs)("p",{className:"text-xs text-blue-500 dark:text-blue-400",children:["Updated ",new Date(e.updated_at).toLocaleDateString()]})})]},e.id)})})]})]})]})]})}var eb=s(55900);function ep(){var e;let[t,s]=(0,r.useState)(!0),[i,n]=(0,r.useState)("signin"),[o,c]=(0,r.useState)(!1),{user:x,loading:m}=(0,l.a)();if((0,r.useEffect)(()=>{let e=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(e)},[]),t)return(0,a.jsx)(u,{onComplete:()=>s(!1)});if(m)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})});if(!x)return o?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-blue-200 dark:border-gray-700 p-8 text-center",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)(P,{})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-blue-900 dark:text-white mb-6",children:"Access System"}),(0,a.jsx)("p",{className:"text-blue-700 dark:text-blue-200 mb-8",children:"Choose how you want to access the system"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>{c(!1),n("signin")},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold px-6 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Admin Sign In"})]}),(0,a.jsxs)("button",{onClick:()=>{c(!1),n("signup")},className:"w-full bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-semibold px-6 py-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[(0,a.jsx)(eb.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Student Registration"})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{onClick:()=>c(!1),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200",children:"Back to Sign In"})})]})}),(0,a.jsx)(k.x7,{position:"top-right"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{mode:i,onToggleMode:()=>{"signin"===i?c(!0):n("signin")}}),(0,a.jsx)(k.x7,{position:"top-right"})]});let h=(null===(e=x.user_metadata)||void 0===e?void 0:e.role)||"student";return(0,a.jsxs)(a.Fragment,{children:["admin"===h?(0,a.jsx)(ed,{}):(0,a.jsx)(eh,{}),(0,a.jsx)(k.x7,{position:"top-right"})]})}},46281:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return n},a:function(){return o}});var a=s(57437),r=s(2265),l=s(2141);let i=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[s,n]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[c,x]=(0,r.useState)(!0),m=()=>"true"===localStorage.getItem("rememberMe"),u=()=>{localStorage.removeItem("rememberMe")};(0,r.useEffect)(()=>{let e=!0;(async()=>{var t;let{data:{session:s}}=await l.O.auth.getSession();if(s&&!m()){if(await l.O.auth.signOut(),u(),!e)return;d(null),n(null),x(!1);return}e&&(d(s),n(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),x(!1))})();let{data:{subscription:t}}=l.O.auth.onAuthStateChange((e,t)=>{var s;d(t),n(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),x(!1)});return()=>{e=!1,t.unsubscribe()}},[]);let h=async(e,t,s,a,r)=>{try{var i,n;let{data:o,error:d}=await l.O.auth.signUp({email:e,password:t,options:{data:{full_name:s,role:a,student_id:(null==r?void 0:r.studentId)||"",phone:(null==r?void 0:r.phone)||"",course:(null==r?void 0:r.course)||"",year_level:(null==r?void 0:r.yearLevel)||"",sport:(null==r?void 0:r.sport)||"",position:(null==r?void 0:r.position)||"",department:(null==r?void 0:r.department)||"",title:(null==r?void 0:r.title)||"",id_picture_url:(null==r?void 0:r.id_picture_url)||"",is_verified:null!==(i=null==r?void 0:r.is_verified)&&void 0!==i&&i}}});if(d)return console.error("Signup error:",d),{error:d};if(o.user&&r){let{error:e}=await l.O.from("users").update({student_id:r.studentId||null,phone:r.phone||null,course:r.course||null,year_level:r.yearLevel||null,sport:r.sport||null,position:r.position||null,department:r.department||null,title:r.title||null,id_picture_url:r.id_picture_url||null,is_verified:null!==(n=r.is_verified)&&void 0!==n&&n}).eq("id",o.user.id);e&&console.error("Error updating user profile:",e)}return{error:null}}catch(e){return console.error("Signup exception:",e),{error:e}}},b=async(e,t)=>{let s=e.name.split(".").pop(),a="".concat(t,".").concat(s),r="".concat(t,"/").concat(a),{error:i}=await l.O.storage.from("profile-pictures").upload(r,e,{cacheControl:"3600",upsert:!0});if(i)return{error:i};let{data:n}=l.O.storage.from("profile-pictures").getPublicUrl(r),{error:o}=await l.O.from("users").update({profile_picture_url:n.publicUrl}).eq("id",t);return{error:o,url:n.publicUrl}},p=async(e,t)=>{let{error:s}=await l.O.auth.signInWithPassword({email:e,password:t});return{error:s}},f=async()=>{u(),await l.O.auth.signOut()};return(0,a.jsx)(i.Provider,{value:{user:s,session:o,loading:c,signUp:h,signIn:p,signOut:f,uploadProfilePicture:b},children:t})}function o(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},76476:function(e,t,s){"use strict";s.d(t,{F:function(){return n},ThemeProvider:function(){return i}});var a=s(57437),r=s(2265);let l=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)("light");return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");e&&i(e)},[]),(0,r.useEffect)(()=>{"dark"===s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",s)},[s]),(0,a.jsx)(l.Provider,{value:{theme:s,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")}},children:t})}function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},2141:function(e,t,s){"use strict";let a;s.d(t,{O:function(){return a}});var r=s(39683);let l="https://tiykqhfutsspfkbradvr.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpeWtxaGZ1dHNzcGZrYnJhZHZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5OTEzOTcsImV4cCI6MjA3MzU2NzM5N30.cSJCT7xNH6-7zlZycmkLhNklWnESo5xpmY83UgSWZ_s";try{l&&i?a=(0,r.eI)(l,i):(console.warn("⚠️  Supabase environment variables are missing. The app may not function correctly."),a=(0,r.eI)("https://placeholder-project.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBsYWNlaG9sZGVyLXByb2plY3QiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTY0NTc2ODAwMCwiZXhwIjo5OTk5OTk5OTk5fQ.placeholder"))}catch(e){console.error("Failed to create Supabase client:",e),a=(0,r.eI)("https://placeholder-project.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBsYWNlaG9sZGVyLXByb2plY3QiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTY0NTc2ODAwMCwiZXhwIjo5OTk5OTk5OTk5fQ.placeholder")}}},function(e){e.O(0,[683,561,971,117,744],function(){return e(e.s=13161)}),_N_E=e.O()}]);